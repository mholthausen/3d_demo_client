define(["./when-54c2dc71","./Check-6c0211bc","./Math-fc8cecf5","./Cartesian2-bddc1162","./Transforms-6f81ad4c","./RuntimeError-2109023a","./WebGLConstants-76bb35d1","./ComponentDatatype-6d99a1ee","./GeometryAttribute-700c1da0","./GeometryAttributes-4fcfcf40","./Plane-b6058d9b","./VertexFormat-7572c785","./FrustumGeometry-a164549e"],(function(e,t,r,n,a,u,i,o,c,s,p,m,d){"use strict";function h(t){var r,u,i=t.frustum,o=t.orientation,c=t.origin;t=e.defaultValue(t._drawNearPlane,!0),i instanceof d.PerspectiveFrustum?(r=0,u=d.PerspectiveFrustum.packedLength):i instanceof d.OrthographicFrustum&&(r=1,u=d.OrthographicFrustum.packedLength),this._frustumType=r,this._frustum=i.clone(),this._origin=n.Cartesian3.clone(c),this._orientation=a.Quaternion.clone(o),this._drawNearPlane=t,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+u+n.Cartesian3.packedLength+a.Quaternion.packedLength}h.pack=function(t,r,u){u=e.defaultValue(u,0);var i=t._frustumType,o=t._frustum;return 0===(r[u++]=i)?(d.PerspectiveFrustum.pack(o,r,u),u+=d.PerspectiveFrustum.packedLength):(d.OrthographicFrustum.pack(o,r,u),u+=d.OrthographicFrustum.packedLength),n.Cartesian3.pack(t._origin,r,u),u+=n.Cartesian3.packedLength,a.Quaternion.pack(t._orientation,r,u),r[u+=a.Quaternion.packedLength]=t._drawNearPlane?1:0,r};var f=new d.PerspectiveFrustum,g=new d.OrthographicFrustum,_=new a.Quaternion,k=new n.Cartesian3;return h.unpack=function(t,r,u){r=e.defaultValue(r,0);var i,o=t[r++];0===o?(i=d.PerspectiveFrustum.unpack(t,r,f),r+=d.PerspectiveFrustum.packedLength):(i=d.OrthographicFrustum.unpack(t,r,g),r+=d.OrthographicFrustum.packedLength);var c=n.Cartesian3.unpack(t,r,k);r+=n.Cartesian3.packedLength;var s=a.Quaternion.unpack(t,r,_);return t=1===t[r+=a.Quaternion.packedLength],e.defined(u)?(r=o===u._frustumType?u._frustum:void 0,u._frustum=i.clone(r),u._frustumType=o,u._origin=n.Cartesian3.clone(c,u._origin),u._orientation=a.Quaternion.clone(s,u._orientation),u._drawNearPlane=t,u):new h({frustum:i,origin:c,orientation:s,_drawNearPlane:t})},h.createGeometry=function(e){var t=e._frustumType,r=e._frustum,n=e._origin,u=e._orientation,i=e._drawNearPlane;e=new Float64Array(24),d.FrustumGeometry._computeNearFarPlanes(n,u,t,r,e),r=new s.GeometryAttributes({position:new c.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e})});for(var p,m,h=i?2:1,f=new Uint16Array(8*(1+h)),g=i?0:1;g<2;++g)m=4*g,f[p=i?8*g:0]=m,f[p+1]=m+1,f[p+2]=m+1,f[p+3]=m+2,f[p+4]=m+2,f[p+5]=m+3,f[p+6]=m+3,f[p+7]=m;for(g=0;g<2;++g)m=4*g,f[p=8*(h+g)]=m,f[p+1]=m+4,f[p+2]=m+1,f[p+3]=m+5,f[p+4]=m+2,f[p+5]=m+6,f[p+6]=m+3,f[p+7]=m+7;return new c.Geometry({attributes:r,indices:f,primitiveType:c.PrimitiveType.LINES,boundingSphere:a.BoundingSphere.fromVertices(e)})},function(t,r){return e.defined(r)&&(t=h.unpack(t,r)),h.createGeometry(t)}}));