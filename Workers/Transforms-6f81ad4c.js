define(["exports","./when-54c2dc71","./Check-6c0211bc","./Math-fc8cecf5","./Cartesian2-bddc1162","./RuntimeError-2109023a"],(function(e,t,n,r,a,i){"use strict";function s(e){this._ellipsoid=t.defaultValue(e,a.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),s.prototype.project=function(e,n){var r=this._semimajorAxis,i=e.longitude*r;return r=e.latitude*r,e=e.height,t.defined(n)?(n.x=i,n.y=r,n.z=e,n):new a.Cartesian3(i,r,e)},s.prototype.unproject=function(e,n){var r=this._oneOverSemimajorAxis,i=e.x*r;return r=e.y*r,e=e.z,t.defined(n)?(n.longitude=i,n.latitude=r,n.height=e,n):new a.Cartographic(i,r,e)};var o=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function u(e,n){this.start=t.defaultValue(e,0),this.stop=t.defaultValue(n,0)}function l(e,n,r,a,i,s,o,u,l){this[0]=t.defaultValue(e,0),this[1]=t.defaultValue(a,0),this[2]=t.defaultValue(o,0),this[3]=t.defaultValue(n,0),this[4]=t.defaultValue(i,0),this[5]=t.defaultValue(u,0),this[6]=t.defaultValue(r,0),this[7]=t.defaultValue(s,0),this[8]=t.defaultValue(l,0)}l.packedLength=9,l.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n[r++]=e[3],n[r++]=e[4],n[r++]=e[5],n[r++]=e[6],n[r++]=e[7],n[r++]=e[8],n},l.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new l),r[0]=e[n++],r[1]=e[n++],r[2]=e[n++],r[3]=e[n++],r[4]=e[n++],r[5]=e[n++],r[6]=e[n++],r[7]=e[n++],r[8]=e[n++],r},l.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n):new l(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},l.fromArray=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new l),r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],r[8]=e[n+8],r},l.fromColumnMajorArray=function(e,t){return l.clone(e,t)},l.fromRowMajorArray=function(e,n){return t.defined(n)?(n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8],n):new l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},l.fromQuaternion=function(e,n){var r=e.x*e.x,a=e.x*e.y,i=e.x*e.z,s=e.x*e.w,o=e.y*e.y,u=e.y*e.z,c=e.y*e.w,d=e.z*e.z,f=e.z*e.w,h=r-o-d+(y=e.w*e.w),p=2*(a-f),m=2*(i+c),y=(e=2*(a+f),a=o-r-d+y,f=2*(u-s),c=2*(i-c),s=2*(u+s),-r-o+d+y);return t.defined(n)?(n[0]=h,n[1]=e,n[2]=c,n[3]=p,n[4]=a,n[5]=s,n[6]=m,n[7]=f,n[8]=y,n):new l(h,p,m,e,a,f,c,s,y)},l.fromHeadingPitchRoll=function(e,n){var r=Math.cos(-e.pitch),a=Math.cos(-e.heading),i=Math.cos(e.roll),s=Math.sin(-e.pitch),o=r*a,u=-i*(f=Math.sin(-e.heading))+(h=Math.sin(e.roll))*s*a,c=h*f+i*s*a,d=r*f,f=(e=i*a+h*s*f,-h*a+i*s*f),h=(s=-s,h*r);return r*=i,t.defined(n)?(n[0]=o,n[1]=d,n[2]=s,n[3]=u,n[4]=e,n[5]=h,n[6]=c,n[7]=f,n[8]=r,n):new l(o,u,c,d,e,f,s,h,r)},l.fromScale=function(e,n){return t.defined(n)?(n[0]=e.x,n[1]=0,n[2]=0,n[3]=0,n[4]=e.y,n[5]=0,n[6]=0,n[7]=0,n[8]=e.z,n):new l(e.x,0,0,0,e.y,0,0,0,e.z)},l.fromUniformScale=function(e,n){return t.defined(n)?(n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=e,n[5]=0,n[6]=0,n[7]=0,n[8]=e,n):new l(e,0,0,0,e,0,0,0,e)},l.fromCrossProduct=function(e,n){return t.defined(n)?(n[0]=0,n[1]=e.z,n[2]=-e.y,n[3]=-e.z,n[4]=0,n[5]=e.x,n[6]=e.y,n[7]=-e.x,n[8]=0,n):new l(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},l.fromRotationX=function(e,n){var r=Math.cos(e);return e=Math.sin(e),t.defined(n)?(n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=r,n[5]=e,n[6]=0,n[7]=-e,n[8]=r,n):new l(1,0,0,0,r,-e,0,e,r)},l.fromRotationY=function(e,n){var r=Math.cos(e);return e=Math.sin(e),t.defined(n)?(n[0]=r,n[1]=0,n[2]=-e,n[3]=0,n[4]=1,n[5]=0,n[6]=e,n[7]=0,n[8]=r,n):new l(r,0,e,0,1,0,-e,0,r)},l.fromRotationZ=function(e,n){var r=Math.cos(e);return e=Math.sin(e),t.defined(n)?(n[0]=r,n[1]=e,n[2]=0,n[3]=-e,n[4]=r,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new l(r,-e,0,e,r,0,0,0,1)},l.toArray=function(e,n){return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},l.getElementIndex=function(e,t){return 3*e+t},l.getColumn=function(e,t,n){var r=e[a=3*t],a=(t=e[1+a],e[2+a]);return n.x=r,n.y=t,n.z=a,n},l.setColumn=function(e,t,n,r){return t*=3,(r=l.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r},l.getRow=function(e,t,n){var r=e[t],a=e[t+3];return t=e[t+6],n.x=r,n.y=a,n.z=t,n},l.setRow=function(e,t,n,r){return(r=l.clone(e,r))[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};var c=new a.Cartesian3;l.getScale=function(e,t){return t.x=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[0],e[1],e[2],c)),t.y=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[3],e[4],e[5],c)),t.z=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[6],e[7],e[8],c)),t};var d=new a.Cartesian3;l.getMaximumScale=function(e){return l.getScale(e,d),a.Cartesian3.maximumComponent(d)},l.multiply=function(e,t,n){var r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],a=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],i=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],s=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],o=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],c=e[1]*t[6]+e[4]*t[7]+e[7]*t[8];return t=e[2]*t[6]+e[5]*t[7]+e[8]*t[8],n[0]=r,n[1]=a,n[2]=i,n[3]=s,n[4]=o,n[5]=u,n[6]=l,n[7]=c,n[8]=t,n},l.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},l.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},l.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[3]*a+e[6]*i;return t=e[1]*r+e[4]*a+e[7]*i,i=e[2]*r+e[5]*a+e[8]*i,n.x=s,n.y=t,n.z=i,n},l.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},l.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},l.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},l.transpose=function(e,t){var n=e[0],r=e[3],a=e[6],i=e[1],s=e[4],o=e[7],u=e[2],l=e[5];return e=e[8],t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=s,t[5]=o,t[6]=u,t[7]=l,t[8]=e,t};var f=new a.Cartesian3(1,1,1);l.getRotation=function(e,t){var n=a.Cartesian3.divideComponents(f,l.getScale(e,d),d);return l.multiplyByScale(e,n,t)};var h=[1,0,0],p=[2,2,1],m=new l,y=new l;l.computeEigenDecomposition=function(e,n){var a=r.CesiumMath.EPSILON20,i=0,s=0;t.defined(n)||(n={});for(var o=n.unitary=l.clone(l.IDENTITY,n.unitary),u=n.diagonal=l.clone(e,n.diagonal),c=a*function(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}(u);s<10&&function(e){for(var t=0,n=0;n<3;++n){var r=e[l.getElementIndex(p[n],h[n])];t+=2*r*r}return Math.sqrt(t)}(u)>c;)!function(e,t){for(var n=r.CesiumMath.EPSILON15,a=0,i=1,s=0;s<3;++s){var o=Math.abs(e[l.getElementIndex(p[s],h[s])]);a<o&&(i=s,a=o)}var u=1,c=0,d=h[i],f=p[i];Math.abs(e[l.getElementIndex(f,d)])>n&&(c=(n=(n=(e[l.getElementIndex(f,f)]-e[l.getElementIndex(d,d)])/2/e[l.getElementIndex(f,d)])<0?-1/(-n+Math.sqrt(1+n*n)):1/(n+Math.sqrt(1+n*n)))*(u=1/Math.sqrt(1+n*n))),(t=l.clone(l.IDENTITY,t))[l.getElementIndex(d,d)]=t[l.getElementIndex(f,f)]=u,t[l.getElementIndex(f,d)]=c,t[l.getElementIndex(d,f)]=-c}(u,m),l.transpose(m,y),l.multiply(u,m,u),l.multiply(y,u,u),l.multiply(o,m,o),2<++i&&(++s,i=0);return n},l.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},l.determinant=function(e){var t=e[0],n=e[3],r=e[6],a=e[1],i=e[4],s=e[7],o=e[2],u=e[5];return t*(i*(e=e[8])-u*s)+a*(u*r-n*e)+o*(n*s-i*r)},l.inverse=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],s=e[4],o=e[5],u=e[6],c=e[7],d=e[8];return e=l.determinant(e),t[0]=s*d-c*o,t[1]=c*a-r*d,t[2]=r*o-s*a,t[3]=u*o-i*d,t[4]=n*d-u*a,t[5]=i*a-n*o,t[6]=i*c-u*s,t[7]=u*r-n*c,t[8]=n*s-i*r,l.multiplyByScalar(t,1/e,t)};var w=new l;function C(e,n,r,a){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0),this.w=t.defaultValue(a,0)}l.inverseTranspose=function(e,t){return l.inverse(l.transpose(e,w),t)},l.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[7]===n[7]&&e[8]===n[8]},l.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e[0]-n[0])<=r&&Math.abs(e[1]-n[1])<=r&&Math.abs(e[2]-n[2])<=r&&Math.abs(e[3]-n[3])<=r&&Math.abs(e[4]-n[4])<=r&&Math.abs(e[5]-n[5])<=r&&Math.abs(e[6]-n[6])<=r&&Math.abs(e[7]-n[7])<=r&&Math.abs(e[8]-n[8])<=r},l.IDENTITY=Object.freeze(new l(1,0,0,0,1,0,0,0,1)),l.ZERO=Object.freeze(new l(0,0,0,0,0,0,0,0,0)),l.COLUMN0ROW0=0,l.COLUMN0ROW1=1,l.COLUMN0ROW2=2,l.COLUMN1ROW0=3,l.COLUMN1ROW1=4,l.COLUMN1ROW2=5,l.COLUMN2ROW0=6,l.COLUMN2ROW1=7,l.COLUMN2ROW2=8,Object.defineProperties(l.prototype,{length:{get:function(){return l.packedLength}}}),l.prototype.clone=function(e){return l.clone(this,e)},l.prototype.equals=function(e){return l.equals(this,e)},l.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},l.prototype.equalsEpsilon=function(e,t){return l.equalsEpsilon(this,e,t)},l.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},C.fromElements=function(e,n,r,a,i){return t.defined(i)?(i.x=e,i.y=n,i.z=r,i.w=a,i):new C(e,n,r,a)},C.fromColor=function(e,n){return t.defined(n)?(n.x=e.red,n.y=e.green,n.z=e.blue,n.w=e.alpha,n):new C(e.red,e.green,e.blue,e.alpha)},C.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new C(e.x,e.y,e.z,e.w)},C.packedLength=4,C.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.x,n[r++]=e.y,n[r++]=e.z,n[r]=e.w,n},C.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new C),r.x=e[n++],r.y=e[n++],r.z=e[n++],r.w=e[n],r},C.packArray=function(e,r){var a=e.length,i=4*a;if(t.defined(r)){if(!Array.isArray(r)&&r.length!==i)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");r.length!==i&&(r.length=i)}else r=new Array(i);for(var s=0;s<a;++s)C.pack(e[s],r,4*s);return r},C.unpackArray=function(e,n){var r=e.length;t.defined(n)?n.length=r/4:n=new Array(r/4);for(var a=0;a<r;a+=4){var i=a/4;n[i]=C.unpack(e,a,n[i])}return n},C.fromArray=C.unpack,C.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},C.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},C.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},C.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},C.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},C.magnitude=function(e){return Math.sqrt(C.magnitudeSquared(e))};var v=new C;C.distance=function(e,t){return C.subtract(e,t,v),C.magnitude(v)},C.distanceSquared=function(e,t){return C.subtract(e,t,v),C.magnitudeSquared(v)},C.normalize=function(e,t){var n=C.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},C.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},C.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},C.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},C.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},C.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},C.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},C.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},C.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},C.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var g=new C;C.lerp=function(e,t,n,r){return C.multiplyByScalar(t,n,g),r=C.multiplyByScalar(e,1-n,r),C.add(g,r,r)};var x=new C;C.mostOrthogonalAxis=function(e,t){return e=C.normalize(e,x),C.abs(e,e),e.x<=e.y?e.x<=e.z?e.x<=e.w?C.clone(C.UNIT_X,t):C.clone(C.UNIT_W,t):e.z<=e.w?C.clone(C.UNIT_Z,t):C.clone(C.UNIT_W,t):e.y<=e.z?e.y<=e.w?C.clone(C.UNIT_Y,t):C.clone(C.UNIT_W,t):e.z<=e.w?C.clone(C.UNIT_Z,t):C.clone(C.UNIT_W,t)},C.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},C.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},C.equalsEpsilon=function(e,n,a,i){return e===n||t.defined(e)&&t.defined(n)&&r.CesiumMath.equalsEpsilon(e.x,n.x,a,i)&&r.CesiumMath.equalsEpsilon(e.y,n.y,a,i)&&r.CesiumMath.equalsEpsilon(e.z,n.z,a,i)&&r.CesiumMath.equalsEpsilon(e.w,n.w,a,i)},C.ZERO=Object.freeze(new C(0,0,0,0)),C.UNIT_X=Object.freeze(new C(1,0,0,0)),C.UNIT_Y=Object.freeze(new C(0,1,0,0)),C.UNIT_Z=Object.freeze(new C(0,0,1,0)),C.UNIT_W=Object.freeze(new C(0,0,0,1)),C.prototype.clone=function(e){return C.clone(this,e)},C.prototype.equals=function(e){return C.equals(this,e)},C.prototype.equalsEpsilon=function(e,t,n){return C.equalsEpsilon(this,e,t,n)},C.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var E=new Float32Array(1),O=new Uint8Array(E.buffer),_=new Uint32Array([287454020]),S=68===new Uint8Array(_.buffer)[0];function b(e,n,r,a,i,s,o,u,l,c,d,f,h,p,m,y){this[0]=t.defaultValue(e,0),this[1]=t.defaultValue(i,0),this[2]=t.defaultValue(l,0),this[3]=t.defaultValue(h,0),this[4]=t.defaultValue(n,0),this[5]=t.defaultValue(s,0),this[6]=t.defaultValue(c,0),this[7]=t.defaultValue(p,0),this[8]=t.defaultValue(r,0),this[9]=t.defaultValue(o,0),this[10]=t.defaultValue(d,0),this[11]=t.defaultValue(m,0),this[12]=t.defaultValue(a,0),this[13]=t.defaultValue(u,0),this[14]=t.defaultValue(f,0),this[15]=t.defaultValue(y,0)}C.packFloat=function(e,n){return t.defined(n)||(n=new C),E[0]=e,S?(n.x=O[0],n.y=O[1],n.z=O[2],n.w=O[3]):(n.x=O[3],n.y=O[2],n.z=O[1],n.w=O[0]),n},C.unpackFloat=function(e){return S?(O[0]=e.x,O[1]=e.y,O[2]=e.z,O[3]=e.w):(O[0]=e.w,O[1]=e.z,O[2]=e.y,O[3]=e.x),E[0]},b.packedLength=16,b.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e[0],n[r++]=e[1],n[r++]=e[2],n[r++]=e[3],n[r++]=e[4],n[r++]=e[5],n[r++]=e[6],n[r++]=e[7],n[r++]=e[8],n[r++]=e[9],n[r++]=e[10],n[r++]=e[11],n[r++]=e[12],n[r++]=e[13],n[r++]=e[14],n[r]=e[15],n},b.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new b),r[0]=e[n++],r[1]=e[n++],r[2]=e[n++],r[3]=e[n++],r[4]=e[n++],r[5]=e[n++],r[6]=e[n++],r[7]=e[n++],r[8]=e[n++],r[9]=e[n++],r[10]=e[n++],r[11]=e[n++],r[12]=e[n++],r[13]=e[n++],r[14]=e[n++],r[15]=e[n],r},b.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n):new b(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},b.fromArray=b.unpack,b.fromColumnMajorArray=function(e,t){return b.clone(e,t)},b.fromRowMajorArray=function(e,n){return t.defined(n)?(n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15],n):new b(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},b.fromRotationTranslation=function(e,n,r){return n=t.defaultValue(n,a.Cartesian3.ZERO),t.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=0,r[4]=e[3],r[5]=e[4],r[6]=e[5],r[7]=0,r[8]=e[6],r[9]=e[7],r[10]=e[8],r[11]=0,r[12]=n.x,r[13]=n.y,r[14]=n.z,r[15]=1,r):new b(e[0],e[3],e[6],n.x,e[1],e[4],e[7],n.y,e[2],e[5],e[8],n.z,0,0,0,1)},b.fromTranslationQuaternionRotationScale=function(e,n,r,a){t.defined(a)||(a=new b);var i=r.x,s=r.y,o=r.z,u=n.x*n.x,l=n.x*n.y,c=n.x*n.z,d=n.x*n.w,f=n.y*n.y,h=n.y*n.z,p=n.y*n.w,m=n.z*n.z,y=n.z*n.w,w=u-f-m+(v=n.w*n.w),C=2*(l-y),v=(r=2*(c+p),n=2*(l+y),l=f-u-m+v,y=2*(h-d),p=2*(c-p),d=2*(h+d),-u-f+m+v);return a[0]=w*i,a[1]=n*i,a[2]=p*i,a[3]=0,a[4]=C*s,a[5]=l*s,a[6]=d*s,a[7]=0,a[8]=r*o,a[9]=y*o,a[10]=v*o,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,a},b.fromTranslationRotationScale=function(e,t){return b.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},b.fromTranslation=function(e,t){return b.fromRotationTranslation(l.IDENTITY,e,t)},b.fromScale=function(e,n){return t.defined(n)?(n[0]=e.x,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e.y,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e.z,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new b(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},b.fromUniformScale=function(e,n){return t.defined(n)?(n[0]=e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n):new b(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var M=new a.Cartesian3,A=new a.Cartesian3,R=new a.Cartesian3;b.fromCamera=function(e,n){var r=e.position,i=e.direction,s=e.up;a.Cartesian3.normalize(i,M),a.Cartesian3.normalize(a.Cartesian3.cross(M,s,A),A),a.Cartesian3.normalize(a.Cartesian3.cross(A,M,R),R);var o=A.x,u=A.y,l=A.z,c=M.x,d=M.y,f=M.z,h=R.x,p=R.y,m=R.z,y=r.x;return s=o*-y+u*-(e=r.y)+l*-(i=r.z),r=h*-y+p*-e+m*-i,i=c*y+d*e+f*i,t.defined(n)?(n[0]=o,n[1]=h,n[2]=-c,n[3]=0,n[4]=u,n[5]=p,n[6]=-d,n[7]=0,n[8]=l,n[9]=m,n[10]=-f,n[11]=0,n[12]=s,n[13]=r,n[14]=i,n[15]=1,n):new b(o,u,l,s,h,p,m,r,-c,-d,-f,i,0,0,0,1)},b.computePerspectiveFieldOfView=function(e,t,n,r,a){var i=1/Math.tan(.5*e);return e=i/t,t=(r+n)/(n-r),r=2*r*n/(n-r),a[0]=e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=t,a[11]=-1,a[12]=0,a[13]=0,a[14]=r,a[15]=0,a},b.computeOrthographicOffCenter=function(e,t,n,r,a,i,s){var o=1/(t-e),u=1/(r-n),l=1/(i-a);return e=-(t+e)*o,n=-(r+n)*u,a=-(i+a)*l,o*=2,u*=2,l*=-2,s[0]=o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=0,s[12]=e,s[13]=n,s[14]=a,s[15]=1,s},b.computePerspectiveOffCenter=function(e,t,n,r,a,i,s){var o=2*a/(t-e),u=2*a/(r-n);return e=(t+e)/(t-e),r=(r+n)/(r-n),n=-(i+a)/(i-a),a=-2*i*a/(i-a),s[0]=o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=e,s[9]=r,s[10]=n,s[11]=-1,s[12]=0,s[13]=0,s[14]=a,s[15]=0,s},b.computeInfinitePerspectiveOffCenter=function(e,t,n,r,a,i){var s=2*a/(t-e),o=2*a/(r-n);return e=(t+e)/(t-e),n=(r+n)/(r-n),a*=-2,i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=e,i[9]=n,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=a,i[15]=0,i},b.computeViewportTransformation=function(e,n,r,a){t.defined(a)||(a=new b),e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT);var i=t.defaultValue(e.x,0),s=t.defaultValue(e.y,0),o=t.defaultValue(e.width,0),u=t.defaultValue(e.height,0);n=t.defaultValue(n,0);var l=.5*o;return u=e=.5*u,r=o=.5*((r=t.defaultValue(r,1))-n),i+=l,e=s+e,o=n+o,a[0]=l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=r,a[11]=0,a[12]=i,a[13]=e,a[14]=o,a[15]=1,a},b.computeView=function(e,t,n,r,i){return i[0]=r.x,i[1]=n.x,i[2]=-t.x,i[3]=0,i[4]=r.y,i[5]=n.y,i[6]=-t.y,i[7]=0,i[8]=r.z,i[9]=n.z,i[10]=-t.z,i[11]=0,i[12]=-a.Cartesian3.dot(r,e),i[13]=-a.Cartesian3.dot(n,e),i[14]=a.Cartesian3.dot(t,e),i[15]=1,i},b.toArray=function(e,n){return t.defined(n)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},b.getElementIndex=function(e,t){return 4*e+t},b.getColumn=function(e,t,n){var r=e[i=4*t],a=e[1+i],i=(t=e[2+i],e[3+i]);return n.x=r,n.y=a,n.z=t,n.w=i,n},b.setColumn=function(e,t,n,r){return t*=4,(r=b.clone(e,r))[t]=n.x,r[1+t]=n.y,r[2+t]=n.z,r[3+t]=n.w,r},b.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var T=new a.Cartesian3;b.setScale=function(e,t,n){var r=b.getScale(e,T);return r=a.Cartesian3.divideComponents(t,r,T),b.multiplyByScale(e,r,n)},b.getRow=function(e,t,n){var r=e[t],a=e[t+4],i=e[t+8];return t=e[t+12],n.x=r,n.y=a,n.z=i,n.w=t,n},b.setRow=function(e,t,n,r){return(r=b.clone(e,r))[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r};var q=new a.Cartesian3;b.getScale=function(e,t){return t.x=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[0],e[1],e[2],q)),t.y=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[4],e[5],e[6],q)),t.z=a.Cartesian3.magnitude(a.Cartesian3.fromElements(e[8],e[9],e[10],q)),t};var z=new a.Cartesian3;b.getMaximumScale=function(e){return b.getScale(e,z),a.Cartesian3.maximumComponent(z)},b.multiply=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],d=e[8],f=e[9],h=e[10],p=e[11],m=e[12],y=e[13],w=e[14],C=e[15],v=t[0],g=t[1],x=t[2],E=t[3],O=t[4],_=t[5],S=t[6],b=t[7],M=t[8],A=t[9],R=t[10],T=t[11],q=t[12],z=t[13],I=t[14],P=t[15],D=r*v+o*g+d*x+m*E;return e=a*v+u*g+f*x+y*E,t=i*v+l*g+h*x+w*E,v=s*v+c*g+p*x+C*E,g=r*O+o*_+d*S+m*b,x=a*O+u*_+f*S+y*b,E=i*O+l*_+h*S+w*b,O=s*O+c*_+p*S+C*b,_=r*M+o*A+d*R+m*T,S=a*M+u*A+f*R+y*T,b=i*M+l*A+h*R+w*T,T=s*M+c*A+p*R+C*T,m=r*q+o*z+d*I+m*P,y=a*q+u*z+f*I+y*P,w=i*q+l*z+h*I+w*P,P=s*q+c*z+p*I+C*P,n[0]=D,n[1]=e,n[2]=t,n[3]=v,n[4]=g,n[5]=x,n[6]=E,n[7]=O,n[8]=_,n[9]=S,n[10]=b,n[11]=T,n[12]=m,n[13]=y,n[14]=w,n[15]=P,n},b.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},b.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},b.multiplyTransformation=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],d=e[10],f=e[12],h=e[13],p=e[14],m=t[0],y=t[1],w=t[2],C=t[4],v=t[5],g=t[6],x=t[8],E=t[9],O=t[10],_=t[12],S=t[13],b=t[14];return e=r*m+s*y+l*w,t=a*m+o*y+c*w,m=i*m+u*y+d*w,y=r*C+s*v+l*g,w=a*C+o*v+c*g,C=i*C+u*v+d*g,v=r*x+s*E+l*O,g=a*x+o*E+c*O,O=i*x+u*E+d*O,f=r*_+s*S+l*b+f,h=a*_+o*S+c*b+h,p=i*_+u*S+d*b+p,n[0]=e,n[1]=t,n[2]=m,n[3]=0,n[4]=y,n[5]=w,n[6]=C,n[7]=0,n[8]=v,n[9]=g,n[10]=O,n[11]=0,n[12]=f,n[13]=h,n[14]=p,n[15]=1,n},b.multiplyByMatrix3=function(e,t,n){var r=e[0],a=e[1],i=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],d=e[10],f=t[0],h=t[1],p=t[2],m=t[3],y=t[4],w=t[5],C=t[6],v=t[7],g=t[8],x=r*f+s*h+l*p;return t=a*f+o*h+c*p,f=i*f+u*h+d*p,h=r*m+s*y+l*w,p=a*m+o*y+c*w,w=i*m+u*y+d*w,l=r*C+s*v+l*g,c=a*C+o*v+c*g,g=i*C+u*v+d*g,n[0]=x,n[1]=t,n[2]=f,n[3]=0,n[4]=h,n[5]=p,n[6]=w,n[7]=0,n[8]=l,n[9]=c,n[10]=g,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},b.multiplyByTranslation=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=r*e[0]+a*e[4]+i*e[8]+e[12];return t=r*e[1]+a*e[5]+i*e[9]+e[13],i=r*e[2]+a*e[6]+i*e[10]+e[14],n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=s,n[13]=t,n[14]=i,n[15]=e[15],n};var I=new a.Cartesian3;b.multiplyByUniformScale=function(e,t,n){return I.x=t,I.y=t,I.z=t,b.multiplyByScale(e,I,n)},b.multiplyByScale=function(e,t,n){var r=t.x,a=t.y;return t=t.z,1===r&&1===a&&1===t?b.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=0,n[4]=a*e[4],n[5]=a*e[5],n[6]=a*e[6],n[7]=0,n[8]=t*e[8],n[9]=t*e[9],n[10]=t*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},b.multiplyByVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=t.w,o=e[0]*r+e[4]*a+e[8]*i+e[12]*s,u=e[1]*r+e[5]*a+e[9]*i+e[13]*s;return t=e[2]*r+e[6]*a+e[10]*i+e[14]*s,s=e[3]*r+e[7]*a+e[11]*i+e[15]*s,n.x=o,n.y=u,n.z=t,n.w=s,n},b.multiplyByPointAsVector=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i;return t=e[1]*r+e[5]*a+e[9]*i,i=e[2]*r+e[6]*a+e[10]*i,n.x=s,n.y=t,n.z=i,n},b.multiplyByPoint=function(e,t,n){var r=t.x,a=t.y,i=t.z,s=e[0]*r+e[4]*a+e[8]*i+e[12];return t=e[1]*r+e[5]*a+e[9]*i+e[13],e=e[2]*r+e[6]*a+e[10]*i+e[14],n.x=s,n.y=t,n.z=e,n},b.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},b.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},b.transpose=function(e,t){var n=e[1],r=e[2],a=e[3],i=e[6],s=e[7],o=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[10]=e[10],t[11]=e[14],t[12]=a,t[13]=s,t[14]=o,t[15]=e[15],t},b.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},b.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e[12]===n[12]&&e[13]===n[13]&&e[14]===n[14]&&e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[4]===n[4]&&e[5]===n[5]&&e[6]===n[6]&&e[8]===n[8]&&e[9]===n[9]&&e[10]===n[10]&&e[3]===n[3]&&e[7]===n[7]&&e[11]===n[11]&&e[15]===n[15]},b.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e[0]-n[0])<=r&&Math.abs(e[1]-n[1])<=r&&Math.abs(e[2]-n[2])<=r&&Math.abs(e[3]-n[3])<=r&&Math.abs(e[4]-n[4])<=r&&Math.abs(e[5]-n[5])<=r&&Math.abs(e[6]-n[6])<=r&&Math.abs(e[7]-n[7])<=r&&Math.abs(e[8]-n[8])<=r&&Math.abs(e[9]-n[9])<=r&&Math.abs(e[10]-n[10])<=r&&Math.abs(e[11]-n[11])<=r&&Math.abs(e[12]-n[12])<=r&&Math.abs(e[13]-n[13])<=r&&Math.abs(e[14]-n[14])<=r&&Math.abs(e[15]-n[15])<=r},b.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},b.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var P=new l,D=new l,U=new C,N=new C(0,0,0,1);b.inverse=function(e,t){var n=e[0],a=e[4],s=e[8],o=e[12],u=e[1],c=e[5],d=e[9],f=e[13],h=e[2],p=e[6],m=e[10],y=e[14],w=e[3],v=e[7],g=e[11],x=m*(Y=e[15]),E=p*Y,O=y*v,_=p*g,S=m*v,M=h*Y,A=h*g,R=m*w,T=h*v,q=p*w,z=x*c+O*d+_*f-((Z=y*g)*c+E*d+S*f),I=Z*u+M*d+R*f-(x*u+(X=y*w)*d+A*f),V=E*u+X*c+T*f-(O*u+M*c+q*f),F=S*u+A*c+q*d-(_*u+R*c+T*d),L=Z*a+E*s+S*o-(x*a+O*s+_*o),B=x*n+X*s+A*o-(Z*n+M*s+R*o),W=O*n+M*a+q*o-(E*n+X*a+T*o),j=_*n+R*a+T*s-(S*n+A*a+q*s),k=(x=s*f)*v+(O=o*c)*g+(_=a*d)*Y-((Z=o*d)*v+(E=a*f)*g+(S=s*c)*Y),Y=(d=Z*w+(M=n*f)*g+(R=s*u)*Y-(x*w+(X=o*u)*g+(A=n*d)*Y),E*w+X*v+(T=n*c)*Y-(O*w+M*v+(q=a*u)*Y)),Z=(v=S*w+A*v+q*g-(_*w+R*v+T*g),g=E*m+S*y+Z*p-(_*y+x*p+O*m),A*y+x*h+X*m-(M*m+R*y+Z*h)),X=M*p+q*y+O*h-(T*y+E*h+X*p);if(h=T*m+_*h+R*p-(A*p+q*m+S*h),o=n*z+a*I+s*V+o*F,Math.abs(o)<r.CesiumMath.EPSILON21){if(l.equalsEpsilon(b.getMatrix3(e,P),D,r.CesiumMath.EPSILON7)&&C.equals(b.getRow(e,3,U),N))return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=1,t;throw new i.RuntimeError("matrix is not invertible because its determinate is zero.")}return o=1/o,t[0]=z*o,t[1]=I*o,t[2]=V*o,t[3]=F*o,t[4]=L*o,t[5]=B*o,t[6]=W*o,t[7]=j*o,t[8]=k*o,t[9]=d*o,t[10]=Y*o,t[11]=v*o,t[12]=g*o,t[13]=Z*o,t[14]=X*o,t[15]=h*o,t},b.inverseTransformation=function(e,t){var n=e[0],r=e[1],a=e[2],i=e[4],s=e[5],o=e[6],u=e[8],l=e[9],c=e[10],d=e[12],f=e[13],h=-n*d-r*f-a*(p=e[14]),p=(e=-i*d-s*f-o*p,-u*d-l*f-c*p);return t[0]=n,t[1]=i,t[2]=u,t[3]=0,t[4]=r,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=o,t[10]=c,t[11]=0,t[12]=h,t[13]=e,t[14]=p,t[15]=1,t};var V=new b;function F(e,n){this.center=a.Cartesian3.clone(t.defaultValue(e,a.Cartesian3.ZERO)),this.radius=t.defaultValue(n,0)}b.inverseTranspose=function(e,t){return b.inverse(b.transpose(e,V),t)},b.IDENTITY=Object.freeze(new b(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),b.ZERO=Object.freeze(new b(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),b.COLUMN0ROW0=0,b.COLUMN0ROW1=1,b.COLUMN0ROW2=2,b.COLUMN0ROW3=3,b.COLUMN1ROW0=4,b.COLUMN1ROW1=5,b.COLUMN1ROW2=6,b.COLUMN1ROW3=7,b.COLUMN2ROW0=8,b.COLUMN2ROW1=9,b.COLUMN2ROW2=10,b.COLUMN2ROW3=11,b.COLUMN3ROW0=12,b.COLUMN3ROW1=13,b.COLUMN3ROW2=14,b.COLUMN3ROW3=15,Object.defineProperties(b.prototype,{length:{get:function(){return b.packedLength}}}),b.prototype.clone=function(e){return b.clone(this,e)},b.prototype.equals=function(e){return b.equals(this,e)},b.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},b.prototype.equalsEpsilon=function(e,t){return b.equalsEpsilon(this,e,t)},b.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};var L=new a.Cartesian3,B=new a.Cartesian3,W=new a.Cartesian3,j=new a.Cartesian3,k=new a.Cartesian3,Y=new a.Cartesian3,Z=new a.Cartesian3,X=new a.Cartesian3,H=new a.Cartesian3,J=new a.Cartesian3,G=new a.Cartesian3,Q=new a.Cartesian3,K=4/3*r.CesiumMath.PI;F.fromPoints=function(e,n){if(t.defined(n)||(n=new F),!t.defined(e)||0===e.length)return n.center=a.Cartesian3.clone(a.Cartesian3.ZERO,n.center),n.radius=0,n;for(var r=a.Cartesian3.clone(e[0],Z),i=a.Cartesian3.clone(r,L),s=a.Cartesian3.clone(r,B),o=a.Cartesian3.clone(r,W),u=a.Cartesian3.clone(r,j),l=a.Cartesian3.clone(r,k),c=a.Cartesian3.clone(r,Y),d=e.length,f=1;f<d;f++){a.Cartesian3.clone(e[f],r);var h=r.x,p=r.y,m=r.z;h<i.x&&a.Cartesian3.clone(r,i),h>u.x&&a.Cartesian3.clone(r,u),p<s.y&&a.Cartesian3.clone(r,s),p>l.y&&a.Cartesian3.clone(r,l),m<o.z&&a.Cartesian3.clone(r,o),m>c.z&&a.Cartesian3.clone(r,c)}var y=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(u,i,X)),w=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(l,s,X)),C=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(c,o,X)),v=i,g=u;(y=y)<w&&(y=w,v=s,g=l),y<C&&(y=C,v=o,g=c);var x=H;x.x=.5*(v.x+g.x),x.y=.5*(v.y+g.y),x.z=.5*(v.z+g.z);var E=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(g,x,X)),O=Math.sqrt(E);(v=J).x=i.x,v.y=s.y,v.z=o.z,(g=G).x=u.x,g.y=l.y,g.z=c.z;var _=a.Cartesian3.midpoint(v,g,Q),S=0;for(f=0;f<d;f++){a.Cartesian3.clone(e[f],r);var b=a.Cartesian3.magnitude(a.Cartesian3.subtract(r,_,X));S<b&&(S=b);var M=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(r,x,X));E<M&&(E=(O=.5*(O+(b=Math.sqrt(M))))*O,M=b-O,x.x=(O*x.x+M*r.x)/b,x.y=(O*x.y+M*r.y)/b,x.z=(O*x.z+M*r.z)/b)}return O<S?(a.Cartesian3.clone(x,n.center),n.radius=O):(a.Cartesian3.clone(_,n.center),n.radius=S),n};var $=new s,ee=new a.Cartesian3,te=new a.Cartesian3,ne=new a.Cartographic,re=new a.Cartographic;F.fromRectangle2D=function(e,t,n){return F.fromRectangleWithHeights2D(e,t,0,0,n)},F.fromRectangleWithHeights2D=function(e,n,r,i,s){if(t.defined(s)||(s=new F),!t.defined(e))return s.center=a.Cartesian3.clone(a.Cartesian3.ZERO,s.center),s.radius=0,s;n=t.defaultValue(n,$),a.Rectangle.southwest(e,ne),ne.height=r,a.Rectangle.northeast(e,re),re.height=i;var o=n.project(ne,ee);return e=(r=n.project(re,te)).x-o.x,i=r.y-o.y,n=r.z-o.z,s.radius=.5*Math.sqrt(e*e+i*i+n*n),(r=s.center).x=o.x+.5*e,r.y=o.y+.5*i,r.z=o.z+.5*n,s};var ae=[];F.fromRectangle3D=function(e,n,r,i){return n=t.defaultValue(n,a.Ellipsoid.WGS84),r=t.defaultValue(r,0),t.defined(i)||(i=new F),t.defined(e)?(r=a.Rectangle.subsample(e,n,r,ae),F.fromPoints(r,i)):(i.center=a.Cartesian3.clone(a.Cartesian3.ZERO,i.center),i.radius=0,i)},F.fromVertices=function(e,n,r,i){if(t.defined(i)||(i=new F),!t.defined(e)||0===e.length)return i.center=a.Cartesian3.clone(a.Cartesian3.ZERO,i.center),i.radius=0,i;n=t.defaultValue(n,a.Cartesian3.ZERO),r=t.defaultValue(r,3);var s=Z;s.x=e[0]+n.x,s.y=e[1]+n.y,s.z=e[2]+n.z;for(var o=a.Cartesian3.clone(s,L),u=a.Cartesian3.clone(s,B),l=a.Cartesian3.clone(s,W),c=a.Cartesian3.clone(s,j),d=a.Cartesian3.clone(s,k),f=a.Cartesian3.clone(s,Y),h=e.length,p=0;p<h;p+=r){var m=e[p]+n.x,y=e[p+1]+n.y,w=e[p+2]+n.z;s.x=m,s.y=y,s.z=w,m<o.x&&a.Cartesian3.clone(s,o),m>c.x&&a.Cartesian3.clone(s,c),y<u.y&&a.Cartesian3.clone(s,u),y>d.y&&a.Cartesian3.clone(s,d),w<l.z&&a.Cartesian3.clone(s,l),w>f.z&&a.Cartesian3.clone(s,f)}var C=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(c,o,X)),v=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(d,u,X)),g=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(f,l,X)),x=o,E=c;(C=C)<v&&(C=v,x=u,E=d),C<g&&(C=g,x=l,E=f);var O=H;O.x=.5*(x.x+E.x),O.y=.5*(x.y+E.y),O.z=.5*(x.z+E.z);var _=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(E,O,X)),S=Math.sqrt(_);(x=J).x=o.x,x.y=u.y,x.z=l.z,(E=G).x=c.x,E.y=d.y,E.z=f.z;var b=a.Cartesian3.midpoint(x,E,Q),M=0;for(p=0;p<h;p+=r){s.x=e[p]+n.x,s.y=e[p+1]+n.y,s.z=e[p+2]+n.z;var A=a.Cartesian3.magnitude(a.Cartesian3.subtract(s,b,X));M<A&&(M=A);var R=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(s,O,X));_<R&&(_=(S=.5*(S+(A=Math.sqrt(R))))*S,R=A-S,O.x=(S*O.x+R*s.x)/A,O.y=(S*O.y+R*s.y)/A,O.z=(S*O.z+R*s.z)/A)}return S<M?(a.Cartesian3.clone(O,i.center),i.radius=S):(a.Cartesian3.clone(b,i.center),i.radius=M),i},F.fromEncodedCartesianVertices=function(e,n,r){if(t.defined(r)||(r=new F),!t.defined(e)||!t.defined(n)||e.length!==n.length||0===e.length)return r.center=a.Cartesian3.clone(a.Cartesian3.ZERO,r.center),r.radius=0,r;var i=Z;i.x=e[0]+n[0],i.y=e[1]+n[1],i.z=e[2]+n[2];for(var s=a.Cartesian3.clone(i,L),o=a.Cartesian3.clone(i,B),u=a.Cartesian3.clone(i,W),l=a.Cartesian3.clone(i,j),c=a.Cartesian3.clone(i,k),d=a.Cartesian3.clone(i,Y),f=e.length,h=0;h<f;h+=3){var p=e[h]+n[h],m=e[h+1]+n[h+1],y=e[h+2]+n[h+2];i.x=p,i.y=m,i.z=y,p<s.x&&a.Cartesian3.clone(i,s),p>l.x&&a.Cartesian3.clone(i,l),m<o.y&&a.Cartesian3.clone(i,o),m>c.y&&a.Cartesian3.clone(i,c),y<u.z&&a.Cartesian3.clone(i,u),y>d.z&&a.Cartesian3.clone(i,d)}var w=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(l,s,X)),C=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(c,o,X)),v=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(d,u,X)),g=s,x=l;(w=w)<C&&(w=C,g=o,x=c),w<v&&(w=v,g=u,x=d);var E=H;E.x=.5*(g.x+x.x),E.y=.5*(g.y+x.y),E.z=.5*(g.z+x.z);var O=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(x,E,X)),_=Math.sqrt(O);(g=J).x=s.x,g.y=o.y,g.z=u.z,(x=G).x=l.x,x.y=c.y,x.z=d.z;var S=a.Cartesian3.midpoint(g,x,Q),b=0;for(h=0;h<f;h+=3){i.x=e[h]+n[h],i.y=e[h+1]+n[h+1],i.z=e[h+2]+n[h+2];var M=a.Cartesian3.magnitude(a.Cartesian3.subtract(i,S,X));b<M&&(b=M);var A=a.Cartesian3.magnitudeSquared(a.Cartesian3.subtract(i,E,X));O<A&&(O=(_=.5*(_+(M=Math.sqrt(A))))*_,A=M-_,E.x=(_*E.x+A*i.x)/M,E.y=(_*E.y+A*i.y)/M,E.z=(_*E.z+A*i.z)/M)}return _<b?(a.Cartesian3.clone(E,r.center),r.radius=_):(a.Cartesian3.clone(S,r.center),r.radius=b),r},F.fromCornerPoints=function(e,n,r){return t.defined(r)||(r=new F),e=a.Cartesian3.midpoint(e,n,r.center),r.radius=a.Cartesian3.distance(e,n),r},F.fromEllipsoid=function(e,n){return t.defined(n)||(n=new F),a.Cartesian3.clone(a.Cartesian3.ZERO,n.center),n.radius=e.maximumRadius,n};var ie=new a.Cartesian3;F.fromBoundingSpheres=function(e,n){if(t.defined(n)||(n=new F),!t.defined(e)||0===e.length)return n.center=a.Cartesian3.clone(a.Cartesian3.ZERO,n.center),n.radius=0,n;var r=e.length;if(1===r)return F.clone(e[0],n);if(2===r)return F.union(e[0],e[1],n);for(var i=[],s=0;s<r;s++)i.push(e[s].center);var o=(n=F.fromPoints(i,n)).center,u=n.radius;for(s=0;s<r;s++){var l=e[s];u=Math.max(u,a.Cartesian3.distance(o,l.center,ie)+l.radius)}return n.radius=u,n};var se=new a.Cartesian3,oe=new a.Cartesian3,ue=new a.Cartesian3;F.fromOrientedBoundingBox=function(e,n){t.defined(n)||(n=new F);var r=e.halfAxes,i=l.getColumn(r,0,se),s=l.getColumn(r,1,oe);return r=l.getColumn(r,2,ue),a.Cartesian3.add(i,s,i),a.Cartesian3.add(i,r,i),n.center=a.Cartesian3.clone(e.center,n.center),n.radius=a.Cartesian3.magnitude(i),n},F.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.center=a.Cartesian3.clone(e.center,n.center),n.radius=e.radius,n):new F(e.center,e.radius)},F.packedLength=4,F.pack=function(e,n,r){r=t.defaultValue(r,0);var a=e.center;return n[r++]=a.x,n[r++]=a.y,n[r++]=a.z,n[r]=e.radius,n},F.unpack=function(e,n,r){n=t.defaultValue(n,0),t.defined(r)||(r=new F);var a=r.center;return a.x=e[n++],a.y=e[n++],a.z=e[n++],r.radius=e[n],r};var le=new a.Cartesian3,ce=new a.Cartesian3;F.union=function(e,n,r){t.defined(r)||(r=new F);var i=e.center,s=e.radius,o=n.center,u=n.radius,l=a.Cartesian3.subtract(o,i,le);return(o=a.Cartesian3.magnitude(l))+u<=s?(e.clone(r),r):o+s<=u?(n.clone(r),r):(u=.5*(s+o+u),o=a.Cartesian3.multiplyByScalar(l,(u-s)/o,ce),a.Cartesian3.add(o,i,o),a.Cartesian3.clone(o,r.center),r.radius=u,r)};var de=new a.Cartesian3;F.expand=function(e,t,n){return n=F.clone(e,n),(t=a.Cartesian3.magnitude(a.Cartesian3.subtract(t,n.center,de)))>n.radius&&(n.radius=t),n},F.intersectPlane=function(e,t){var n=e.center,r=e.radius;return e=t.normal,(t=a.Cartesian3.dot(e,n)+t.distance)<-r?o.OUTSIDE:t<r?o.INTERSECTING:o.INSIDE},F.transform=function(e,n,r){return t.defined(r)||(r=new F),r.center=b.multiplyByPoint(n,e.center,r.center),r.radius=b.getMaximumScale(n)*e.radius,r};var fe=new a.Cartesian3;F.distanceSquaredTo=function(e,t){return t=a.Cartesian3.subtract(e.center,t,fe),a.Cartesian3.magnitudeSquared(t)-e.radius*e.radius},F.transformWithoutScale=function(e,n,r){return t.defined(r)||(r=new F),r.center=b.multiplyByPoint(n,e.center,r.center),r.radius=e.radius,r};var he=new a.Cartesian3;F.computePlaneDistances=function(e,n,r,i){return t.defined(i)||(i=new u),n=a.Cartesian3.subtract(e.center,n,he),n=a.Cartesian3.dot(r,n),i.start=n-e.radius,i.stop=n+e.radius,i};for(var pe=new a.Cartesian3,me=new a.Cartesian3,ye=new a.Cartesian3,we=new a.Cartesian3,Ce=new a.Cartesian3,ve=new a.Cartographic,ge=new Array(8),xe=0;xe<8;++xe)ge[xe]=new a.Cartesian3;var Ee,Oe=new s;F.projectTo2D=function(e,n,r){var i=(n=t.defaultValue(n,Oe)).ellipsoid,s=e.center,o=e.radius,u=a.Cartesian3.equals(s,a.Cartesian3.ZERO)?a.Cartesian3.clone(a.Cartesian3.UNIT_X,pe):i.geodeticSurfaceNormal(s,pe),l=a.Cartesian3.cross(a.Cartesian3.UNIT_Z,u,me);a.Cartesian3.normalize(l,l);var c=a.Cartesian3.cross(u,l,ye);a.Cartesian3.normalize(c,c),a.Cartesian3.multiplyByScalar(u,o,u),a.Cartesian3.multiplyByScalar(c,o,c),a.Cartesian3.multiplyByScalar(l,o,l);var d=a.Cartesian3.negate(c,Ce),f=(e=a.Cartesian3.negate(l,we),ge);o=f[0],a.Cartesian3.add(u,c,o),a.Cartesian3.add(o,l,o),o=f[1],a.Cartesian3.add(u,c,o),a.Cartesian3.add(o,e,o),o=f[2],a.Cartesian3.add(u,d,o),a.Cartesian3.add(o,e,o),o=f[3],a.Cartesian3.add(u,d,o),a.Cartesian3.add(o,l,o),a.Cartesian3.negate(u,u),o=f[4],a.Cartesian3.add(u,c,o),a.Cartesian3.add(o,l,o),o=f[5],a.Cartesian3.add(u,c,o),a.Cartesian3.add(o,e,o),o=f[6],a.Cartesian3.add(u,d,o),a.Cartesian3.add(o,e,o),o=f[7],a.Cartesian3.add(u,d,o),a.Cartesian3.add(o,l,o);for(var h=f.length,p=0;p<h;++p){var m=f[p];a.Cartesian3.add(s,m,m);var y=i.cartesianToCartographic(m,ve);n.project(y,m)}return d=(s=(r=F.fromPoints(f,r)).center).x,l=s.y,o=s.z,s.x=o,s.y=d,s.z=l,r},F.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},F.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&a.Cartesian3.equals(e.center,n.center)&&e.radius===n.radius},F.prototype.intersectPlane=function(e){return F.intersectPlane(this,e)},F.prototype.distanceSquaredTo=function(e){return F.distanceSquaredTo(this,e)},F.prototype.computePlaneDistances=function(e,t,n){return F.computePlaneDistances(this,e,t,n)},F.prototype.isOccluded=function(e){return F.isOccluded(this,e)},F.prototype.equals=function(e){return F.equals(this,e)},F.prototype.clone=function(e){return F.clone(this,e)},F.prototype.volume=function(){var e=this.radius;return K*e*e*e};var _e,Se,be,Me,Ae,Re,Te,qe,ze,Ie,Pe,De,Ue,Ne,Ve,Fe,Le,Be={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},We={};function je(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function ke(){var e;return t.defined(Se)||(Se=!1,He()||null!==(e=/ Chrome\/([\.0-9]+)/.exec(_e.userAgent))&&(Se=!0,be=je(e[1]))),Se}function Ye(){var e;return t.defined(Me)||(Me=!1,ke()||He()||!/ Safari\/[\.0-9]+/.test(_e.userAgent)||null!==(e=/ Version\/([\.0-9]+)/.exec(_e.userAgent))&&(Me=!0,Ae=je(e[1]))),Me}function Ze(){var e;return t.defined(Re)||(Re=!1,null!==(e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(_e.userAgent))&&(Re=!0,(Te=je(e[1])).isNightly=!!e[2])),Re}function Xe(){var e;return t.defined(qe)||(qe=!1,"Microsoft Internet Explorer"===_e.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_e.userAgent))&&(qe=!0,ze=je(e[1])):"Netscape"===_e.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_e.userAgent))&&(qe=!0,ze=je(e[1]))),qe}function He(){var e;return t.defined(Ie)||(Ie=!1,null!==(e=/ Edge\/([\.0-9]+)/.exec(_e.userAgent))&&(Ie=!0,Pe=je(e[1]))),Ie}function Je(){var e;return t.defined(De)||(De=!1,null!==(e=/Firefox\/([\.0-9]+)/.exec(_e.userAgent))&&(De=!0,Ue=je(e[1]))),De}function Ge(){var e;return t.defined(Le)||((e=document.createElement("canvas")).setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;"),e=e.style.imageRendering,(Le=t.defined(e)&&""!==e)&&(Fe=e)),Le}function Qe(){return Qe._result}Object.defineProperties(We,{element:{get:function(){if(We.supportsFullscreen())return document[Be.fullscreenElement]}},changeEventName:{get:function(){if(We.supportsFullscreen())return Be.fullscreenchange}},errorEventName:{get:function(){if(We.supportsFullscreen())return Be.fullscreenerror}},enabled:{get:function(){if(We.supportsFullscreen())return document[Be.fullscreenEnabled]}},fullscreen:{get:function(){if(We.supportsFullscreen())return null!==We.element}}}),We.supportsFullscreen=function(){if(t.defined(Ee))return Ee;Ee=!1;var e=document.body;if("function"==typeof e.requestFullscreen)return Be.requestFullscreen="requestFullscreen",Be.exitFullscreen="exitFullscreen",Be.fullscreenEnabled="fullscreenEnabled",Be.fullscreenElement="fullscreenElement",Be.fullscreenchange="fullscreenchange",Be.fullscreenerror="fullscreenerror",Ee=!0;for(var n=["webkit","moz","o","ms","khtml"],r=0,a=n.length;r<a;++r){var i,s=n[r];"function"!=typeof e[i=s+"RequestFullscreen"]&&"function"!=typeof e[i=s+"RequestFullScreen"]||(Be.requestFullscreen=i,Ee=!0),i=s+"ExitFullscreen","function"==typeof document[i]?Be.exitFullscreen=i:(i=s+"CancelFullScreen","function"==typeof document[i]&&(Be.exitFullscreen=i)),i=s+"FullscreenEnabled",void 0!==document[i]?Be.fullscreenEnabled=i:(i=s+"FullScreenEnabled",void 0!==document[i]&&(Be.fullscreenEnabled=i)),i=s+"FullscreenElement",void 0!==document[i]?Be.fullscreenElement=i:(i=s+"FullScreenElement",void 0!==document[i]&&(Be.fullscreenElement=i)),i=s+"fullscreenchange",void 0!==document["on"+i]&&("ms"===s&&(i="MSFullscreenChange"),Be.fullscreenchange=i),i=s+"fullscreenerror",void 0!==document["on"+i]&&("ms"===s&&(i="MSFullscreenError"),Be.fullscreenerror=i)}return Ee},We.requestFullscreen=function(e,t){We.supportsFullscreen()&&e[Be.requestFullscreen]({vrDisplay:t})},We.exitFullscreen=function(){We.supportsFullscreen()&&document[Be.exitFullscreen]()},We._names=Be,_e="undefined"!=typeof navigator?navigator:{},Qe._promise=void 0,Qe._result=void 0,Qe.initialize=function(){if(t.defined(Qe._promise))return Qe._promise;var e=t.when.defer();if(Qe._promise=e.promise,He())return Qe._result=!1,e.resolve(Qe._result),e.promise;var n=new Image;return n.onload=function(){Qe._result=0<n.width&&0<n.height,e.resolve(Qe._result)},n.onerror=function(){Qe._result=!1,e.resolve(Qe._result)},n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(Qe,{initialized:{get:function(){return t.defined(Qe._result)}}}),_=[],"undefined"!=typeof ArrayBuffer&&(_.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&_.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&_.push(Uint8ClampedArray));var Ke={isChrome:ke,chromeVersion:function(){return ke()&&be},isSafari:Ye,safariVersion:function(){return Ye()&&Ae},isWebkit:Ze,webkitVersion:function(){return Ze()&&Te},isInternetExplorer:Xe,internetExplorerVersion:function(){return Xe()&&ze},isEdge:He,edgeVersion:function(){return He()&&Pe},isFirefox:Je,firefoxVersion:function(){return Je()&&Ue},isWindows:function(){return t.defined(Ne)||(Ne=/Windows/i.test(_e.appVersion)),Ne},hardwareConcurrency:t.defaultValue(_e.hardwareConcurrency,3),supportsPointerEvents:function(){return t.defined(Ve)||(Ve=!Je()&&"undefined"!=typeof PointerEvent&&(!t.defined(_e.pointerEnabled)||_e.pointerEnabled)),Ve},supportsImageRenderingPixelated:Ge,supportsWebP:Qe,imageRenderingValue:function(){return Ge()?Fe:void 0},typedArrayTypes:_};function $e(e,n,r,a){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0),this.w=t.defaultValue(a,0)}Ke.supportsFullscreen=function(){return We.supportsFullscreen()},Ke.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},Ke.supportsWebWorkers=function(){return"undefined"!=typeof Worker},Ke.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!Ke.isEdge()};var et=new a.Cartesian3;$e.fromAxisAngle=function(e,n,r){var i=n/2,s=Math.sin(i);return n=(et=a.Cartesian3.normalize(e,et)).x*s,e=et.y*s,s=et.z*s,i=Math.cos(i),t.defined(r)?(r.x=n,r.y=e,r.z=s,r.w=i,r):new $e(n,e,s,i)};var tt=[1,2,0],nt=new Array(3);$e.fromRotationMatrix=function(e,n){var r,a,i,s,o=e[l.COLUMN0ROW0],u=e[l.COLUMN1ROW1],c=e[l.COLUMN2ROW2],d=o+u+c,f=0<d?(i=.5*(s=Math.sqrt(d+1)),s=.5/s,r=(e[l.COLUMN1ROW2]-e[l.COLUMN2ROW1])*s,a=(e[l.COLUMN2ROW0]-e[l.COLUMN0ROW2])*s,(e[l.COLUMN0ROW1]-e[l.COLUMN1ROW0])*s):(u=tt[o=tt[c=o<c&&u<c?2:o<u?1:0]],s=Math.sqrt(e[l.getElementIndex(c,c)]-e[l.getElementIndex(o,o)]-e[l.getElementIndex(u,u)]+1),(f=nt)[c]=.5*s,s=.5/s,i=(e[l.getElementIndex(u,o)]-e[l.getElementIndex(o,u)])*s,f[o]=(e[l.getElementIndex(o,c)]+e[l.getElementIndex(c,o)])*s,f[u]=(e[l.getElementIndex(u,c)]+e[l.getElementIndex(c,u)])*s,r=-f[0],a=-f[1],-f[2]);return t.defined(n)?(n.x=r,n.y=a,n.z=f,n.w=i,n):new $e(r,a,f,i)};var rt=new $e,at=new $e,it=new $e,st=new $e;$e.fromHeadingPitchRoll=function(e,t){return st=$e.fromAxisAngle(a.Cartesian3.UNIT_X,e.roll,rt),it=$e.fromAxisAngle(a.Cartesian3.UNIT_Y,-e.pitch,t),t=$e.multiply(it,st,it),at=$e.fromAxisAngle(a.Cartesian3.UNIT_Z,-e.heading,rt),$e.multiply(at,t,t)};var ot=new a.Cartesian3,ut=new a.Cartesian3,lt=new $e,ct=new $e,dt=new $e;$e.packedLength=4,$e.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.x,n[r++]=e.y,n[r++]=e.z,n[r]=e.w,n},$e.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new $e),r.x=e[n],r.y=e[n+1],r.z=e[n+2],r.w=e[n+3],r},$e.packedInterpolationLength=3,$e.convertPackedArrayForInterpolation=function(e,n,r,a){$e.unpack(e,4*r,dt),$e.conjugate(dt,dt);for(var i=0,s=r-n+1;i<s;i++){var o=3*i;$e.unpack(e,4*(n+i),lt),$e.multiply(lt,dt,lt),lt.w<0&&$e.negate(lt,lt),$e.computeAxis(lt,ot);var u=$e.computeAngle(lt);t.defined(a)||(a=[]),a[o]=ot.x*u,a[1+o]=ot.y*u,a[2+o]=ot.z*u}},$e.unpackInterpolationResult=function(e,n,r,i,s){return t.defined(s)||(s=new $e),a.Cartesian3.fromArray(e,0,ut),e=a.Cartesian3.magnitude(ut),$e.unpack(n,4*i,ct),0===e?$e.clone($e.IDENTITY,lt):$e.fromAxisAngle(ut,e,lt),$e.multiply(lt,ct,s)},$e.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new $e(e.x,e.y,e.z,e.w)},$e.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},$e.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},$e.magnitude=function(e){return Math.sqrt($e.magnitudeSquared(e))},$e.normalize=function(e,t){var n=1/$e.magnitude(e),r=e.x*n,a=e.y*n,i=e.z*n;return n=e.w*n,t.x=r,t.y=a,t.z=i,t.w=n,t},$e.inverse=function(e,t){var n=$e.magnitudeSquared(e);return t=$e.conjugate(e,t),$e.multiplyByScalar(t,1/n,t)},$e.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},$e.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},$e.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},$e.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},$e.multiply=function(e,t,n){var r=e.x,a=e.y,i=e.z,s=e.w,o=t.x,u=t.y,l=t.z,c=t.w,d=s*o+r*c+a*l-i*u;return e=s*u-r*l+a*c+i*o,t=s*l+r*u-a*o+i*c,l=s*c-r*o-a*u-i*l,n.x=d,n.y=e,n.z=t,n.w=l,n},$e.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},$e.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},$e.computeAxis=function(e,t){var n=e.w;return Math.abs(n-1)<r.CesiumMath.EPSILON6?(t.x=t.y=t.z=0,t):(n=1/Math.sqrt(1-n*n),t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t)},$e.computeAngle=function(e){return Math.abs(e.w-1)<r.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};var ft=new $e;$e.lerp=function(e,t,n,r){return ft=$e.multiplyByScalar(t,n,ft),r=$e.multiplyByScalar(e,1-n,r),$e.add(ft,r,r)};var ht=new $e,pt=new $e,mt=new $e;$e.slerp=function(e,t,n,a){var i=$e.dot(e,t),s=t;return i<0&&(i=-i,s=ht=$e.negate(t,ht)),1-i<r.CesiumMath.EPSILON6?$e.lerp(e,s,n,a):(i=Math.acos(i),pt=$e.multiplyByScalar(e,Math.sin((1-n)*i),pt),mt=$e.multiplyByScalar(s,Math.sin(n*i),mt),a=$e.add(pt,mt,a),$e.multiplyByScalar(a,1/Math.sin(i),a))},$e.log=function(e,t){var n=r.CesiumMath.acosClamped(e.w),i=0;return 0!==n&&(i=n/Math.sin(n)),a.Cartesian3.multiplyByScalar(e,i,t)},$e.exp=function(e,t){var n=a.Cartesian3.magnitude(e),r=0;return 0!==n&&(r=Math.sin(n)/n),t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t.w=Math.cos(n),t};var yt=new a.Cartesian3,wt=new a.Cartesian3,Ct=new $e,vt=new $e;$e.computeInnerQuadrangle=function(e,t,n,r){var i=$e.conjugate(t,Ct);return $e.multiply(i,n,vt),n=$e.log(vt,yt),$e.multiply(i,e,vt),e=$e.log(vt,wt),a.Cartesian3.add(n,e,n),a.Cartesian3.multiplyByScalar(n,.25,n),a.Cartesian3.negate(n,n),$e.exp(n,Ct),$e.multiply(t,Ct,r)},$e.squad=function(e,t,n,r,a,i){return t=$e.slerp(e,t,a,Ct),r=$e.slerp(n,r,a,vt),$e.slerp(t,r,2*a*(1-a),i)};for(var gt=new $e,xt=(_=1.9011074535173003,Ke.supportsTypedArrays()?new Float32Array(8):[]),Et=Ke.supportsTypedArrays()?new Float32Array(8):[],Ot=Ke.supportsTypedArrays()?new Float32Array(8):[],_t=Ke.supportsTypedArrays()?new Float32Array(8):[],St=0;St<7;++St){var bt=St+1,Mt=2*bt+1;xt[St]=1/(bt*Mt),Et[St]=bt/Mt}function At(e,t,n){for(var r,a,i=0,s=e.length-1;i<=s;)if((a=n(e[r=~~((i+s)/2)],t))<0)i=1+r;else{if(!(0<a))return r;s=r-1}return~(s+1)}function Rt(e,t,n,r,a){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=a}function Tt(){function e(e,t,n,r){return n=n||" ",n=e.length>=t?"":Array(1+t-e.length>>>0).join(n),r?e+n:n+e}function t(t,n,r,a,i,s){var o=a-t.length;return 0<o&&(t=r||!i?e(t,a,s,r):t.slice(0,n.length)+e("",o,"0",!0)+t.slice(n.length)),t}function n(n,r,a,i,s,o,u){var l=n>>>0;return t(n=(a=a&&l&&{2:"0b",8:"0",16:"0x"}[r]||"")+e(l.toString(r),o||0,"0",!1),a,i,s,u)}function r(e,n,r,a,i,s){return null!=a&&(e=e.slice(0,a)),t(e,"",n,r,i,s)}var a=arguments,i=0,s=a[i++];return s.replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,(function(s,o,u,l,c,d,f){var h,p,m,y,w;if("%%"==s)return"%";for(var C=!1,v="",g=!1,x=!1,E=" ",O=u.length,_=0;u&&_<O;_++)switch(u.charAt(_)){case" ":v=" ";break;case"+":v="+";break;case"-":C=!0;break;case"'":E=u.charAt(_+1);break;case"0":g=!0;break;case"#":x=!0}if((l=l?"*"==l?+a[i++]:"*"==l.charAt(0)?+a[l.slice(1,-1)]:+l:0)<0&&(l=-l,C=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(d=d?"*"==d?+a[i++]:"*"==d.charAt(0)?+a[d.slice(1,-1)]:+d:-1<"fFeE".indexOf(f)?6:"d"==f?0:void 0,w=o?a[o.slice(0,-1)]:a[i++],f){case"s":return r(String(w),C,l,d,g,E);case"c":return r(String.fromCharCode(+w),C,l,d,g);case"b":return n(w,2,x,C,l,d,g);case"o":return n(w,8,x,C,l,d,g);case"x":return n(w,16,x,C,l,d,g);case"X":return n(w,16,x,C,l,d,g).toUpperCase();case"u":return n(w,10,x,C,l,d,g);case"i":case"d":return h=+w||0,t(w=(p=(h=Math.round(h-h%1))<0?"-":v)+e(String(Math.abs(h)),d,"0",!1),p,C,l,g);case"e":case"E":case"f":case"F":case"g":case"G":return p=(h=+w)<0?"-":v,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],y=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],t(w=p+Math.abs(h)[m](d),p,C,l,g)[y]();default:return s}}))}function qt(e,t,n,r,a,i,s,o){this.year=e,this.month=t,this.day=n,this.hour=r,this.minute=a,this.second=i,this.millisecond=s,this.isLeapSecond=o}function zt(e){return e%4==0&&e%100!=0||e%400==0}function It(e,t){this.julianDate=e,this.offset=t}xt[7]=_/136,Et[7]=8*_/17,$e.fastSlerp=function(e,t,n,r){var a;0<=(i=$e.dot(e,t))?a=1:(a=-1,i=-i);for(var i,s=i-1,o=n*n,u=(i=1-n)*i,l=7;0<=l;--l)Ot[l]=(xt[l]*o-Et[l])*s,_t[l]=(xt[l]*u-Et[l])*s;return n=a*n*(1+Ot[0]*(1+Ot[1]*(1+Ot[2]*(1+Ot[3]*(1+Ot[4]*(1+Ot[5]*(1+Ot[6]*(1+Ot[7])))))))),i*=1+_t[0]*(1+_t[1]*(1+_t[2]*(1+_t[3]*(1+_t[4]*(1+_t[5]*(1+_t[6]*(1+_t[7]))))))),i=$e.multiplyByScalar(e,i,gt),$e.multiplyByScalar(t,n,r),$e.add(i,r,r)},$e.fastSquad=function(e,t,n,r,a,i){return t=$e.fastSlerp(e,t,a,Ct),r=$e.fastSlerp(n,r,a,vt),$e.fastSlerp(t,r,2*a*(1-a),i)},$e.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},$e.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(e.x-n.x)<=r&&Math.abs(e.y-n.y)<=r&&Math.abs(e.z-n.z)<=r&&Math.abs(e.w-n.w)<=r},$e.ZERO=Object.freeze(new $e(0,0,0,0)),$e.IDENTITY=Object.freeze(new $e(0,0,0,1)),$e.prototype.clone=function(e){return $e.clone(this,e)},$e.prototype.equals=function(e){return $e.equals(this,e)},$e.prototype.equalsEpsilon=function(e,t){return $e.equalsEpsilon(this,e,t)},$e.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var Pt=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5}),Dt=Object.freeze({UTC:0,TAI:1}),Ut=new qt,Nt=[31,28,31,30,31,30,31,31,30,31,30,31];function Vt(e,t){return Kt.compare(e.julianDate,t.julianDate)}var Ft=new It;function Lt(e){Ft.julianDate=e;var t=Kt.leapSeconds,n=At(t,Ft,Vt);n<0&&(n=~n),n>=t.length&&(n=t.length-1);var r=t[n].offset;0<n&&r<Kt.secondsDifference(t[n].julianDate,e)&&(r=t[--n].offset),Kt.addSeconds(e,r,e)}function Bt(e,t){Ft.julianDate=e;var n=Kt.leapSeconds,r=At(n,Ft,Vt);if(r<0&&(r=~r),0===r)return Kt.addSeconds(e,-n[0].offset,t);if(r>=n.length)return Kt.addSeconds(e,-n[r-1].offset,t);var a=Kt.secondsDifference(n[r].julianDate,e);return 0===a?Kt.addSeconds(e,-n[r].offset,t):a<=1?void 0:Kt.addSeconds(e,-n[--r].offset,t)}function Wt(e,t,n){var r=t/Pt.SECONDS_PER_DAY|0;return e+=r,(t-=Pt.SECONDS_PER_DAY*r)<0&&(e--,t+=Pt.SECONDS_PER_DAY),n.dayNumber=e,n.secondsOfDay=t,n}function jt(e,t,n,r,a,i,s){var o=(t-14)/12|0;return n=(1461*(e=e+4800+o)/4|0)+(367*(t-2-12*o)/12|0)-(3*((e+100)/100|0)/4|0)+n-32075,(r-=12)<0&&(r+=24),43200<=(s=i+(r*Pt.SECONDS_PER_HOUR+a*Pt.SECONDS_PER_MINUTE+s*Pt.SECONDS_PER_MILLISECOND))&&--n,[n,s]}var kt=/^(\d{4})$/,Yt=/^(\d{4})-(\d{2})$/,Zt=/^(\d{4})-?(\d{3})$/,Xt=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,Ht=/^(\d{4})-?(\d{2})-?(\d{2})$/,Jt=/^(\d{2})(\.\d+)?/.source+(_=/([Z+\-])?(\d{2})?:?(\d{2})?$/).source,Gt=/^(\d{2}):?(\d{2})(\.\d+)?/.source+_.source,Qt=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+_.source;function Kt(e,n,r){this.dayNumber=void 0,this.secondsOfDay=void 0,e=t.defaultValue(e,0),n=t.defaultValue(n,0),r=t.defaultValue(r,Dt.UTC);var a=0|e;Wt(a,n+=(e-a)*Pt.SECONDS_PER_DAY,this),r===Dt.UTC&&Lt(this)}Kt.fromGregorianDate=function(e,n){return e=jt(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond),t.defined(n)?(Wt(e[0],e[1],n),Lt(n),n):new Kt(e[0],e[1],Dt.UTC)},Kt.fromDate=function(e,n){return e=jt(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t.defined(n)?(Wt(e[0],e[1],n),Lt(n),n):new Kt(e[0],e[1],Dt.UTC)},Kt.fromIso8601=function(e,n){var r,a,i,s,o,u=(e=e.replace(",",".")).split("T"),l=1,c=1,d=0,f=0,h=0,p=0,m=u[0];if(e=u[1],null!==(u=m.match(Ht))?(r=+u[1],l=+u[2],c=+u[3]):null!==(u=m.match(Yt))?(r=+u[1],l=+u[2]):null!==(u=m.match(kt))?r=+u[1]:(null!==(u=m.match(Zt))?(r=+u[1],s=+u[2],i=zt(r)):null!==(u=m.match(Xt))&&(r=+u[1],s=7*+u[2]+(+u[3]||0)-new Date(Date.UTC(r,0,4)).getUTCDay()-3),(a=new Date(Date.UTC(r,0,1))).setUTCDate(s),l=a.getUTCMonth()+1,c=a.getUTCDate()),i=zt(r),t.defined(e)){null!==(u=e.match(Qt))?(d=+u[1],f=+u[2],h=+u[3],p=1e3*+(u[4]||0),o=5):null!==(u=e.match(Gt))?(d=+u[1],f=+u[2],h=60*+(u[3]||0),o=4):null!==(u=e.match(Jt))&&(d=+u[1],f=60*+(u[2]||0),o=3);var y=u[o],w=+u[o+1],C=+(u[o+2]||0);switch(y){case"+":d-=w,f-=C;break;case"-":d+=w,f+=C;break;case"Z":break;default:f+=new Date(Date.UTC(r,l-1,c,d,f)).getTimezoneOffset()}}for((y=60===h)&&h--;60<=f;)f-=60,d++;for(;24<=d;)d-=24,c++;for(a=i&&2===l?29:Nt[l-1];a<c;)c-=a,12<++l&&(l-=12,r++),a=i&&2===l?29:Nt[l-1];for(;f<0;)f+=60,d--;for(;d<0;)d+=24,c--;for(;c<1;)--l<1&&(l+=12,r--),c+=a=i&&2===l?29:Nt[l-1];return p=jt(r,l,c,d,f,h,p),t.defined(n)?(Wt(p[0],p[1],n),Lt(n)):n=new Kt(p[0],p[1],Dt.UTC),y&&Kt.addSeconds(n,1,n),n},Kt.now=function(e){return Kt.fromDate(new Date,e)};var $t=new Kt(0,0,Dt.TAI);function en(e){e instanceof en?(this.scheme=e.scheme,this.authority=e.authority,this.path=e.path,this.query=e.query,this.fragment=e.fragment):e&&(e=tn.exec(e),this.scheme=e[1],this.authority=e[2],this.path=e[3],this.query=e[4],this.fragment=e[5])}Kt.toGregorianDate=function(e,n){var r=!1,a=Bt(e,$t);t.defined(a)||(Kt.addSeconds(e,-1,$t),a=Bt($t,$t),r=!0);var i=a.dayNumber;43200<=(l=a.secondsOfDay)&&(i+=1);var s,o,u=4e3*(1+(o=(o=i+68569|0)-((146097*(s=4*o/146097|0)+3)/4|0)|0))/1461001|0,l=(e=80*(o=o-(1461*u/4|0)+31|0)/2447|0,a=o-(2447*e/80|0)|0,i=2+e-12*(o=e/11|0)|0,e=100*(s-49)+u+o|0,u=l-(s=l/Pt.SECONDS_PER_HOUR|0)*Pt.SECONDS_PER_HOUR,0|(u-=(o=u/Pt.SECONDS_PER_MINUTE|0)*Pt.SECONDS_PER_MINUTE));return u=(u-l)/Pt.SECONDS_PER_MILLISECOND,23<(s+=12)&&(s-=24),r&&(l+=1),t.defined(n)?(n.year=e,n.month=i,n.day=a,n.hour=s,n.minute=o,n.second=l,n.millisecond=u,n.isLeapSecond=r,n):new qt(e,i,a,s,o,l,u,r)},Kt.toDate=function(e){var t=Kt.toGregorianDate(e,Ut);return e=t.second,t.isLeapSecond&&--e,new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,e,t.millisecond))},Kt.toIso8601=function(e,n){var r=(u=Kt.toGregorianDate(e,Ut)).year,a=u.month,i=u.day,s=u.hour,o=u.minute,u=(e=u.second,u.millisecond);return 1e4===r&&1===a&&1===i&&0===s&&0===o&&0===e&&0===u&&(r=9999,a=12,i=31,s=24),t.defined(n)||0===u?t.defined(n)&&0!==n?Tt("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",r,a,i,s,o,e,(.01*u).toFixed(n).replace(".","").slice(0,n)):Tt("%04d-%02d-%02dT%02d:%02d:%02dZ",r,a,i,s,o,e):Tt("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",r,a,i,s,o,e,(.01*u).toString().replace(".",""))},Kt.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.dayNumber=e.dayNumber,n.secondsOfDay=e.secondsOfDay,n):new Kt(e.dayNumber,e.secondsOfDay,Dt.TAI)},Kt.compare=function(e,t){var n=e.dayNumber-t.dayNumber;return 0!=n?n:e.secondsOfDay-t.secondsOfDay},Kt.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.dayNumber===n.dayNumber&&e.secondsOfDay===n.secondsOfDay},Kt.equalsEpsilon=function(e,n,r){return r=t.defaultValue(r,0),e===n||t.defined(e)&&t.defined(n)&&Math.abs(Kt.secondsDifference(e,n))<=r},Kt.totalDays=function(e){return e.dayNumber+e.secondsOfDay/Pt.SECONDS_PER_DAY},Kt.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*Pt.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},Kt.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/Pt.SECONDS_PER_DAY},Kt.computeTaiMinusUtc=function(e){Ft.julianDate=e;var t=Kt.leapSeconds;return(e=At(t,Ft,Vt))<0&&(e=~e,--e<0&&(e=0)),t[e].offset},Kt.addSeconds=function(e,t,n){return Wt(e.dayNumber,e.secondsOfDay+t,n)},Kt.addMinutes=function(e,t,n){return t=e.secondsOfDay+t*Pt.SECONDS_PER_MINUTE,Wt(e.dayNumber,t,n)},Kt.addHours=function(e,t,n){return t=e.secondsOfDay+t*Pt.SECONDS_PER_HOUR,Wt(e.dayNumber,t,n)},Kt.addDays=function(e,t,n){return Wt(e.dayNumber+t,e.secondsOfDay,n)},Kt.lessThan=function(e,t){return Kt.compare(e,t)<0},Kt.lessThanOrEquals=function(e,t){return Kt.compare(e,t)<=0},Kt.greaterThan=function(e,t){return 0<Kt.compare(e,t)},Kt.greaterThanOrEquals=function(e,t){return 0<=Kt.compare(e,t)},Kt.prototype.clone=function(e){return Kt.clone(this,e)},Kt.prototype.equals=function(e){return Kt.equals(this,e)},Kt.prototype.equalsEpsilon=function(e,t){return Kt.equalsEpsilon(this,e,t)},Kt.prototype.toString=function(){return Kt.toIso8601(this)},Kt.leapSeconds=[new It(new Kt(2441317,43210,Dt.TAI),10),new It(new Kt(2441499,43211,Dt.TAI),11),new It(new Kt(2441683,43212,Dt.TAI),12),new It(new Kt(2442048,43213,Dt.TAI),13),new It(new Kt(2442413,43214,Dt.TAI),14),new It(new Kt(2442778,43215,Dt.TAI),15),new It(new Kt(2443144,43216,Dt.TAI),16),new It(new Kt(2443509,43217,Dt.TAI),17),new It(new Kt(2443874,43218,Dt.TAI),18),new It(new Kt(2444239,43219,Dt.TAI),19),new It(new Kt(2444786,43220,Dt.TAI),20),new It(new Kt(2445151,43221,Dt.TAI),21),new It(new Kt(2445516,43222,Dt.TAI),22),new It(new Kt(2446247,43223,Dt.TAI),23),new It(new Kt(2447161,43224,Dt.TAI),24),new It(new Kt(2447892,43225,Dt.TAI),25),new It(new Kt(2448257,43226,Dt.TAI),26),new It(new Kt(2448804,43227,Dt.TAI),27),new It(new Kt(2449169,43228,Dt.TAI),28),new It(new Kt(2449534,43229,Dt.TAI),29),new It(new Kt(2450083,43230,Dt.TAI),30),new It(new Kt(2450630,43231,Dt.TAI),31),new It(new Kt(2451179,43232,Dt.TAI),32),new It(new Kt(2453736,43233,Dt.TAI),33),new It(new Kt(2454832,43234,Dt.TAI),34),new It(new Kt(2456109,43235,Dt.TAI),35),new It(new Kt(2457204,43236,Dt.TAI),36),new It(new Kt(2457754,43237,Dt.TAI),37)],en.prototype.scheme=null,en.prototype.authority=null,en.prototype.path="",en.prototype.query=null,en.prototype.fragment=null;var tn=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");en.prototype.getScheme=function(){return this.scheme},en.prototype.getAuthority=function(){return this.authority},en.prototype.getPath=function(){return this.path},en.prototype.getQuery=function(){return this.query},en.prototype.getFragment=function(){return this.fragment},en.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},en.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},en.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},en.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(an,on).replace(nn,sn)),this.path&&(this.path=this.path.replace(nn,sn)),this.query&&(this.query=this.query.replace(nn,sn)),this.fragment&&(this.fragment=this.fragment.replace(nn,sn))};var nn=/%[0-9a-z]{2}/gi,rn=/[a-zA-Z0-9\-\._~]/,an=/(.*@)?([^@:]*)(:.*)?/;function sn(e){var t=unescape(e);return rn.test(t)?t:e.toUpperCase()}function on(e,t,n,r){return(t||"")+n.toLowerCase()+(r||"")}function un(e,n){if(null===e||"object"!=typeof e)return e;n=t.defaultValue(n,!1);var r,a,i=new e.constructor;for(r in e)e.hasOwnProperty(r)&&(a=e[r],n&&(a=un(a,n)),i[r]=a);return i}function ln(e,n,r){r=t.defaultValue(r,!1);var a,i,s,o={},u=t.defined(e),l=t.defined(n);if(u)for(a in e)e.hasOwnProperty(a)&&(i=e[a],l&&r&&"object"==typeof i&&n.hasOwnProperty(a)?(s=n[a],o[a]="object"==typeof s?ln(i,s,r):i):o[a]=i);if(l)for(a in n)n.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(s=n[a],o[a]=s);return o}function cn(e,t){var n;return"undefined"!=typeof document&&(n=document),cn._implementation(e,t,n)}en.prototype.resolve=function(e){var t=new en;return this.scheme?(t.scheme=this.scheme,t.authority=this.authority,t.path=this.path,t.query=this.query):(t.scheme=e.scheme,this.authority?(t.authority=this.authority,t.path=this.path,t.query=this.query):(t.authority=e.authority,""==this.path?(t.path=e.path,t.query=this.query||e.query):("/"==this.path.charAt(0)?t.path=this.path:e.authority&&""==e.path?t.path="/"+this.path:t.path=e.path.substring(0,e.path.lastIndexOf("/")+1)+this.path,t.removeDotSegments(),t.query=this.query))),t.fragment=this.fragment,t},en.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),n=[],r=""==t[0];for(r&&t.shift(),""==t[0]&&t.shift();t.length;)".."==(e=t.shift())?n.pop():"."!=e&&n.push(e);"."!=e&&".."!=e||n.push(""),r&&n.unshift(""),this.path=n.join("/")},en.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},cn._implementation=function(e,n,r){if(!t.defined(n)){if(void 0===r)return e;n=t.defaultValue(r.baseURI,r.location.href)}return n=new en(n),new en(e).resolve(n).toString()};var dn,fn=/^blob:/i;function hn(e){return fn.test(e)}var pn=/^data:/i;function mn(e){return pn.test(e)}var yn=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5}),wn=Object.freeze({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3});function Cn(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT);var n=t.defaultValue(e.throttleByServer,!1),r=t.defaultValue(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=t.defaultValue(e.priority,0),this.throttle=r,this.throttleByServer=n,this.type=t.defaultValue(e.type,wn.OTHER),this.serverKey=void 0,this.state=yn.UNISSUED,this.deferred=void 0,this.cancelled=!1}function vn(e,t,n){this.statusCode=e,this.response=t,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;++r){var a,i=n[r],s=i.indexOf(": ");0<s&&(a=i.substring(0,s),s=i.substring(s+2),t[a]=s)}return t}(this.responseHeaders))}function gn(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function xn(e,t){return t-e}function En(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function On(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Cn.prototype.cancel=function(){this.cancelled=!0},Cn.prototype.clone=function(e){return t.defined(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new Cn(this)},vn.prototype.toString=function(){var e="Request has failed.";return t.defined(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},Object.defineProperties(gn.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),gn.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},gn.prototype.removeEventListener=function(e,t){for(var n=this._listeners,r=this._scopes,a=-1,i=0;i<n.length;i++)if(n[i]===e&&r[i]===t){a=i;break}return-1!==a&&(this._insideRaiseEvent?(this._toRemove.push(a),n[a]=void 0,r[a]=void 0):(n.splice(a,1),r.splice(a,1)),!0)},gn.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;for(var e=this._listeners,n=this._scopes,r=e.length,a=0;a<r;a++){var i=e[a];t.defined(i)&&e[a].apply(n[a],arguments)}var s=this._toRemove;if(0<(r=s.length)){for(s.sort(xn),a=0;a<r;a++){var o=s[a];e.splice(o,1),n.splice(o,1)}s.length=0}this._insideRaiseEvent=!1},Object.defineProperties(En.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){var t=this._length;if(e<t){for(var n=this._array,r=e;r<t;++r)n[r]=void 0;this._length=e,n.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),En.prototype.reserve=function(e){e=t.defaultValue(e,this._length),this._array.length=e},En.prototype.heapify=function(e){e=t.defaultValue(e,0);for(var n=this._length,r=this._comparator,a=this._array,i=-1,s=!0;s;){var o=2*(e+1),u=o-1;i=u<n&&r(a[u],a[e])<0?u:e,o<n&&r(a[o],a[i])<0&&(i=o),i!==e?(On(a,i,e),e=i):s=!1}},En.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);0<=t;--t)this.heapify(t)},En.prototype.insert=function(e){var n,r=this._array,a=this._comparator,i=this._maximumLength,s=this._length++;for(s<r.length?r[s]=e:r.push(e);0!==s;){var o=Math.floor((s-1)/2);if(!(a(r[s],r[o])<0))break;On(r,s,o),s=o}return t.defined(i)&&this._length>i&&(n=r[i],this._length=i),n},En.prototype.pop=function(e){if(e=t.defaultValue(e,0),0!==this._length){var n=this._array,r=n[e];return On(n,e,--this._length),this.heapify(e),n[this._length]=void 0,r}};var _n={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0},Sn=20,bn=new En({comparator:function(e,t){return e.priority-t.priority}});bn.maximumLength=Sn,bn.reserve(Sn);var Mn=[],An={},Rn="undefined"!=typeof document?new en(document.location.href):new en,Tn=new gn;function qn(){}function zn(e){t.defined(e.priorityFunction)&&(e.priority=e.priorityFunction())}function In(e){var n=t.defaultValue(qn.requestsByServer[e],qn.maximumRequestsPerServer);return An[e]<n}function Pn(e){return e.state===yn.UNISSUED&&(e.state=yn.ISSUED,e.deferred=t.when.defer()),e.deferred.promise}function Dn(e){var t,n,r=Pn(e);return e.state=yn.ACTIVE,Mn.push(e),++_n.numberOfActiveRequests,++_n.numberOfActiveRequestsEver,++An[e.serverKey],e.requestFunction().then((n=e,function(e){var t;n.state!==yn.CANCELLED&&(t=n.deferred,--_n.numberOfActiveRequests,--An[n.serverKey],Tn.raiseEvent(),n.state=yn.RECEIVED,n.deferred=void 0,t.resolve(e))})).otherwise((t=e,function(e){t.state!==yn.CANCELLED&&(++_n.numberOfFailedRequests,--_n.numberOfActiveRequests,--An[t.serverKey],Tn.raiseEvent(e),t.state=yn.FAILED,t.deferred.reject(e))})),r}function Un(e){var n,r=e.state===yn.ACTIVE;e.state=yn.CANCELLED,++_n.numberOfCancelledRequests,t.defined(e.deferred)&&(n=e.deferred,e.deferred=void 0,n.reject()),r&&(--_n.numberOfActiveRequests,--An[e.serverKey],++_n.numberOfCancelledActiveRequests),t.defined(e.cancelFunction)&&e.cancelFunction()}qn.maximumRequests=50,qn.maximumRequestsPerServer=6,qn.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},qn.throttleRequests=!0,qn.debugShowStatistics=!1,qn.requestCompletedEvent=Tn,Object.defineProperties(qn,{statistics:{get:function(){return _n}},priorityHeapLength:{get:function(){return Sn},set:function(e){if(e<Sn)for(;bn.length>e;)Un(bn.pop());Sn=e,bn.maximumLength=e,bn.reserve(e)}}}),qn.update=function(){for(var e,t=0,n=Mn.length,r=0;r<n;++r)(e=Mn[r]).cancelled&&Un(e),e.state===yn.ACTIVE?0<t&&(Mn[r-t]=e):++t;Mn.length-=t;var a=bn.internalArray,i=bn.length;for(r=0;r<i;++r)zn(a[r]);bn.resort();for(var s=Math.max(qn.maximumRequests-Mn.length,0),o=0;o<s&&0<bn.length;)(e=bn.pop()).cancelled||e.throttleByServer&&!In(e.serverKey)?Un(e):(Dn(e),++o);qn.debugShowStatistics&&(0===_n.numberOfActiveRequests&&0<_n.lastNumberOfActiveRequests&&(0<_n.numberOfAttemptedRequests&&(console.log("Number of attempted requests: "+_n.numberOfAttemptedRequests),_n.numberOfAttemptedRequests=0),0<_n.numberOfCancelledRequests&&(console.log("Number of cancelled requests: "+_n.numberOfCancelledRequests),_n.numberOfCancelledRequests=0),0<_n.numberOfCancelledActiveRequests&&(console.log("Number of cancelled active requests: "+_n.numberOfCancelledActiveRequests),_n.numberOfCancelledActiveRequests=0),0<_n.numberOfFailedRequests&&(console.log("Number of failed requests: "+_n.numberOfFailedRequests),_n.numberOfFailedRequests=0)),_n.lastNumberOfActiveRequests=_n.numberOfActiveRequests)},qn.getServerKey=function(e){var n=new en(e).resolve(Rn);return n.normalize(),e=n.authority,/:/.test(e)||(e=e+":"+("https"===n.scheme?"443":"80")),n=An[e],t.defined(n)||(An[e]=0),e},qn.request=function(e){if(mn(e.url)||hn(e.url))return Tn.raiseEvent(),e.state=yn.RECEIVED,e.requestFunction();if(++_n.numberOfAttemptedRequests,t.defined(e.serverKey)||(e.serverKey=qn.getServerKey(e.url)),!qn.throttleRequests||!e.throttleByServer||In(e.serverKey)){if(!qn.throttleRequests||!e.throttle)return Dn(e);if(!(Mn.length>=qn.maximumRequests)){zn(e);var n=bn.insert(e);if(t.defined(n)){if(n===e)return;Un(n)}return Pn(e)}}},qn.clearForSpecs=function(){for(;0<bn.length;)Un(bn.pop());for(var e=Mn.length,t=0;t<e;++t)Un(Mn[t]);Mn.length=0,An={},_n.numberOfAttemptedRequests=0,_n.numberOfActiveRequests=0,_n.numberOfCancelledRequests=0,_n.numberOfCancelledActiveRequests=0,_n.numberOfFailedRequests=0,_n.numberOfActiveRequestsEver=0,_n.lastNumberOfActiveRequests=0},qn.numberOfActiveRequestsByServer=function(e){return An[e]},qn.requestHeap=bn;var Nn={},Vn={};Nn.add=function(e,n){n=e.toLowerCase()+":"+n,t.defined(Vn[n])||(Vn[n]=!0)},Nn.remove=function(e,n){n=e.toLowerCase()+":"+n,t.defined(Vn[n])&&delete Vn[n]},Nn.contains=function(e){return e=function(e){var n=new en(e);if(n.normalize(),e=n.getAuthority(),t.defined(e)){if(-1!==e.indexOf("@")&&(e=e.split("@")[1]),-1===e.indexOf(":"))if(n=n.getScheme(),t.defined(n)||(n=(n=window.location.protocol).substring(0,n.length-1)),"http"===n)e+=":80";else{if("https"!==n)return;e+=":443"}return e}}(e),!(!t.defined(e)||!t.defined(Vn[e]))},Nn.clear=function(){Vn={}};var Fn,Ln=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),(e.responseType="blob")===e.responseType}catch(e){return!1}}();function Bn(e,n,r,a){var i,s=e.query;if(!t.defined(s)||0===s.length)return 1;s=-1===s.indexOf("=")?((i={})[s]=void 0,i):function(e){var n={};if(""===e)return n;for(var r=e.replace(/\+/g,"%20").split(/[&;]/),a=0,i=r.length;a<i;++a){var s=r[a].split("="),o=decodeURIComponent(s[0]),u=s[1];u=t.defined(u)?decodeURIComponent(u):"","string"==typeof(s=n[o])?n[o]=[s,u]:Array.isArray(s)?s.push(u):n[o]=u}return n}(s),n._queryParameters=r?kn(s,n._queryParameters,a):s,e.query=void 0}function Wn(e,n){return t.defined(e)?t.defined(e.clone)?e.clone():un(e):n}function jn(e){if(e.state===yn.ISSUED||e.state===yn.ACTIVE)throw new i.RuntimeError("The Resource is already being fetched.");e.state=yn.UNISSUED,e.deferred=void 0}function kn(e,n,r){if(!r)return ln(e,n);var a,i,s,o=un(e,!0);for(a in n)n.hasOwnProperty(a)&&(i=o[a],s=n[a],t.defined(i)?(Array.isArray(i)||(i=o[a]=[i]),o[a]=i.concat(s)):o[a]=Array.isArray(s)?s.slice():s);return o}function Yn(e){"string"==typeof(e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT))&&(e={url:e}),this._url=void 0,this._templateValues=Wn(e.templateValues,{}),this._queryParameters=Wn(e.queryParameters,{}),this.headers=Wn(e.headers,{}),this.request=t.defaultValue(e.request,new Cn),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=t.defaultValue(e.retryAttempts,0),this._retryCount=0,Bn(e=new en(e.url),this,!0,!0),e.fragment=void 0,this._url=e.toString()}function Zn(e){var n=e.resource,r=e.flipY,a=e.preferImageBitmap,i=n.request;if(i.url=n.url,i.requestFunction=function(){var e=!1;n.isDataUri||n.isBlobUri||(e=n.isCrossOriginUrl);var s=t.when.defer();return Yn._Implementations.createImage(i,e,s,r,a),s.promise},e=qn.request(i),t.defined(e))return e.otherwise((function(e){return i.state!==yn.FAILED?t.when.reject(e):n.retryOnError(e).then((function(s){return s?(i.state=yn.UNISSUED,i.deferred=void 0,Zn({resource:n,flipY:r,preferImageBitmap:a})):t.when.reject(e)}))}))}Yn.createIfNeeded=function(e){return e instanceof Yn?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new Yn({url:e})},Yn.supportsImageBitmapOptions=function(){return t.defined(Fn)?Fn:Fn="function"!=typeof createImageBitmap?t.when.resolve(!1):Yn.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWP4////fwAJ+wP9CNHoHgAAAABJRU5ErkJggg=="}).then((function(e){return createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none"})})).then((function(e){return!0})).otherwise((function(){return!1}))},Object.defineProperties(Yn,{isBlobSupported:{get:function(){return Ln}}}),Object.defineProperties(Yn.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){Bn(e=new en(e),this,!1),e.fragment=void 0,this._url=e.toString()}},extension:{get:function(){return(t=new en(e=this._url)).normalize(),-1!==(t=(e=t.path).lastIndexOf("/"))&&(e=e.substr(t+1)),-1===(t=e.lastIndexOf("."))?"":e.substr(t+1);var e,t}},isDataUri:{get:function(){return mn(this._url)}},isBlobUri:{get:function(){return hn(this._url)}},isCrossOriginUrl:{get:function(){return function(e){t.defined(dn)||(dn=document.createElement("a")),dn.href=window.location.href;var n=dn.host,r=dn.protocol;return dn.href=e,dn.href=dn.href,r!==dn.protocol||n!==dn.host}(this._url)}},hasHeaders:{get:function(){return 0<Object.keys(this.headers).length}}}),Yn.prototype.toString=function(){return this.getUrlComponent(!0,!0)},Yn.prototype.getUrlComponent=function(e,n){if(this.isDataUri)return this._url;var r=new en(this._url);e&&function(e,n){var r=n._queryParameters;1!==(n=Object.keys(r)).length||t.defined(r[n[0]])?e.query=function(e){var t,n="";for(t in e)if(e.hasOwnProperty(t)){var r=e[t],a=encodeURIComponent(t)+"=";if(Array.isArray(r))for(var i=0,s=r.length;i<s;++i)n+=a+encodeURIComponent(r[i])+"&";else n+=a+encodeURIComponent(r)+"&"}return n.slice(0,-1)}(r):e.query=n[0]}(r,this),r=r.toString().replace(/%7B/g,"{").replace(/%7D/g,"}");var a=this._templateValues;return r=r.replace(/{(.*?)}/g,(function(e,n){return n=a[n],t.defined(n)?encodeURIComponent(n):e})),n&&t.defined(this.proxy)&&(r=this.proxy.getURL(r)),r},Yn.prototype.setQueryParameters=function(e,t){this._queryParameters=t?kn(this._queryParameters,e,!1):kn(e,this._queryParameters,!1)},Yn.prototype.appendQueryParameters=function(e){this._queryParameters=kn(e,this._queryParameters,!0)},Yn.prototype.setTemplateValues=function(e,t){this._templateValues=t?ln(this._templateValues,e):ln(e,this._templateValues)},Yn.prototype.getDerivedResource=function(e){var n,r=this.clone();return r._retryCount=0,t.defined(e.url)&&(Bn(n=new en(e.url),r,!0,t.defaultValue(e.preserveQueryParameters,!1)),n.fragment=void 0,r._url=n.resolve(new en(cn(this._url))).toString()),t.defined(e.queryParameters)&&(r._queryParameters=ln(e.queryParameters,r._queryParameters)),t.defined(e.templateValues)&&(r._templateValues=ln(e.templateValues,r.templateValues)),t.defined(e.headers)&&(r.headers=ln(e.headers,r.headers)),t.defined(e.proxy)&&(r.proxy=e.proxy),t.defined(e.request)&&(r.request=e.request),t.defined(e.retryCallback)&&(r.retryCallback=e.retryCallback),t.defined(e.retryAttempts)&&(r.retryAttempts=e.retryAttempts),r},Yn.prototype.retryOnError=function(e){var n=this.retryCallback;if("function"!=typeof n||this._retryCount>=this.retryAttempts)return t.when(!1);var r=this;return t.when(n(this,e)).then((function(e){return++r._retryCount,e}))},Yn.prototype.clone=function(e){return t.defined(e)||(e=new Yn({url:this._url})),e._url=this._url,e._queryParameters=un(this._queryParameters),e._templateValues=un(this._templateValues),e.headers=un(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e},Yn.prototype.getBaseUri=function(e){return r=e,a="",-1!==(e=(n=this.getUrlComponent(e)).lastIndexOf("/"))&&(a=n.substring(0,e+1)),r&&(n=new en(n),t.defined(n.query)&&(a+="?"+n.query),t.defined(n.fragment)&&(a+="#"+n.fragment)),a;var n,r,a},Yn.prototype.appendForwardSlash=function(){var e;this._url=(0!==(e=this._url).length&&"/"===e[e.length-1]||(e+="/"),e)},Yn.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},Yn.fetchArrayBuffer=function(e){return new Yn(e).fetchArrayBuffer()},Yn.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},Yn.fetchBlob=function(e){return new Yn(e).fetchBlob()},Yn.prototype.fetchImage=function(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT);var n=t.defaultValue(e.preferImageBitmap,!1),r=t.defaultValue(e.preferBlob,!1),a=t.defaultValue(e.flipY,!1);if(jn(this.request),!Ln||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!r)return Zn({resource:this,flipY:a,preferImageBitmap:n});var i,s,o,u=this.fetchBlob();return t.defined(u)?Yn.supportsImageBitmapOptions().then((function(e){return i=e&&n,u})).then((function(e){if(t.defined(e))return o=e,i?Yn.createImageBitmapFromBlob(e,{flipY:a,premultiplyAlpha:!1}):(e=window.URL.createObjectURL(e),Zn({resource:s=new Yn({url:e}),flipY:a,preferImageBitmap:!1}))})).then((function(e){if(t.defined(e))return e.blob=o,i||window.URL.revokeObjectURL(s.url),e})).otherwise((function(e){return t.defined(s)&&window.URL.revokeObjectURL(s.url),e.blob=o,t.when.reject(e)})):void 0},Yn.fetchImage=function(e){return new Yn(e).fetchImage({flipY:e.flipY,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},Yn.prototype.fetchText=function(){return this.fetch({responseType:"text"})},Yn.fetchText=function(e){return new Yn(e).fetchText()},Yn.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(t.defined(e))return e.then((function(e){if(t.defined(e))return JSON.parse(e)}))},Yn.fetchJson=function(e){return new Yn(e).fetchJson()},Yn.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},Yn.fetchXML=function(e){return new Yn(e).fetchXML()},Yn.prototype.fetchJsonp=function(e){var n;for(e=t.defaultValue(e,"callback"),jn(this.request);n="loadJsonp"+Math.random().toString().substring(2,8),t.defined(window[n]););return function e(n,r,a){(s={})[r]=a,n.setQueryParameters(s);var i=n.request;i.url=n.url,i.requestFunction=function(){var e=t.when.defer();return window[a]=function(t){e.resolve(t);try{delete window[a]}catch(t){window[a]=void 0}},Yn._Implementations.loadAndExecuteScript(n.url,a,e),e.promise};var s=qn.request(i);if(t.defined(s))return s.otherwise((function(s){return i.state!==yn.FAILED?t.when.reject(s):n.retryOnError(s).then((function(o){return o?(i.state=yn.UNISSUED,i.deferred=void 0,e(n,r,a)):t.when.reject(s)}))}))}(this,e,n)},Yn.fetchJsonp=function(e){return new Yn(e).fetchJsonp(e.callbackParameterName)},Yn.prototype._makeRequest=function(e){var n=this;jn(n.request);var r=n.request;r.url=n.url,r.requestFunction=function(){var a=e.responseType,i=ln(e.headers,n.headers),s=e.overrideMimeType,o=e.method,u=e.data,l=t.when.defer(),c=Yn._Implementations.loadWithXhr(n.url,a,o,u,i,l,s);return t.defined(c)&&t.defined(c.abort)&&(r.cancelFunction=function(){c.abort()}),l.promise};var a=qn.request(r);if(t.defined(a))return a.then((function(e){return r.cancelFunction=void 0,e})).otherwise((function(a){return r.cancelFunction=void 0,r.state!==yn.FAILED?t.when.reject(a):n.retryOnError(a).then((function(i){return i?(r.state=yn.UNISSUED,r.deferred=void 0,n.fetch(e)):t.when.reject(a)}))}))};var Xn=/^data:(.*?)(;base64)?,(.*)$/;function Hn(e,t){return t=decodeURIComponent(t),e?atob(t):t}function Jn(e,t){for(var n=Hn(e,t),r=(t=new ArrayBuffer(n.length),new Uint8Array(t)),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return t}function Gn(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}Yn.prototype.fetch=function(e){return(e=Wn(e,{})).method="GET",this._makeRequest(e)},Yn.fetch=function(e){return new Yn(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Yn.prototype.delete=function(e){return(e=Wn(e,{})).method="DELETE",this._makeRequest(e)},Yn.delete=function(e){return new Yn(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,data:e.data})},Yn.prototype.head=function(e){return(e=Wn(e,{})).method="HEAD",this._makeRequest(e)},Yn.head=function(e){return new Yn(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Yn.prototype.options=function(e){return(e=Wn(e,{})).method="OPTIONS",this._makeRequest(e)},Yn.options=function(e){return new Yn(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Yn.prototype.post=function(e,t){return n.Check.defined("data",e),(t=Wn(t,{})).method="POST",t.data=e,this._makeRequest(t)},Yn.post=function(e){return new Yn(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Yn.prototype.put=function(e,t){return n.Check.defined("data",e),(t=Wn(t,{})).method="PUT",t.data=e,this._makeRequest(t)},Yn.put=function(e){return new Yn(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},Yn.prototype.patch=function(e,t){return n.Check.defined("data",e),(t=Wn(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},Yn.patch=function(e){return new Yn(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType})},(Yn._Implementations={}).createImage=function(e,n,r,a,s){var o=e.url;Yn.supportsImageBitmapOptions().then((function(u){if(!u||!s)return d=o,u=n,l=r,(c=new Image).onload=function(){l.resolve(c)},c.onerror=function(e){l.reject(e)},u&&(Nn.contains(d)?c.crossOrigin="use-credentials":c.crossOrigin=""),void(c.src=d);var l,c,d=t.when.defer(),f=Yn._Implementations.loadWithXhr(o,"blob","GET",void 0,void 0,d,void 0,void 0,void 0);return t.defined(f)&&t.defined(f.abort)&&(e.cancelFunction=function(){f.abort()}),d.promise.then((function(e){return t.defined(e)?Yn.createImageBitmapFromBlob(e,{flipY:a,premultiplyAlpha:!1}):void r.reject(new i.RuntimeError("Successfully retrieved "+o+" but it contained no content."))})).then(r.resolve)})).otherwise(r.reject)},Yn.createImageBitmapFromBlob=function(e,t){return n.Check.defined("options",t),n.Check.typeOf.bool("options.flipY",t.flipY),n.Check.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none"})};var Qn="undefined"==typeof XMLHttpRequest;function Kn(e){var n,r;e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=t.defaultValue(e.addNewLeapSeconds,!0),t.defined(e.data)?er(this,e.data):t.defined(e.url)?(n=Yn.createIfNeeded(e.url),(r=this)._downloadPromise=n.fetchJson().then((function(e){er(r,e)})).otherwise((function(){r._dataError="An error occurred while retrieving the EOP data from the URL "+n.url+"."}))):er(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function $n(e,t){return Kt.compare(e.julianDate,t)}function er(e,n){if(t.defined(n.columnNames))if(t.defined(n.samples)){var r=n.columnNames.indexOf("modifiedJulianDateUtc"),a=n.columnNames.indexOf("xPoleWanderRadians"),i=n.columnNames.indexOf("yPoleWanderRadians"),s=n.columnNames.indexOf("ut1MinusUtcSeconds"),o=n.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=n.columnNames.indexOf("yCelestialPoleOffsetRadians"),l=n.columnNames.indexOf("taiMinusUtcSeconds");if(r<0||a<0||i<0||s<0||o<0||u<0||l<0)e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns";else{var c,d=e._samples=n.samples,f=e._dates=[];e._dateColumn=r,e._xPoleWanderRadiansColumn=a,e._yPoleWanderRadiansColumn=i,e._ut1MinusUtcSecondsColumn=s,e._xCelestialPoleOffsetRadiansColumn=o,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=l,e._columnCount=n.columnNames.length,e._lastIndex=void 0;for(var h=e._addNewLeapSeconds,p=0,m=d.length;p<m;p+=e._columnCount){var y,w=d[p+r],C=d[p+l],v=new Kt(w+Pt.MODIFIED_JULIAN_DATE_DIFFERENCE,C,Dt.TAI);f.push(v),h&&(C===c||!t.defined(c)||(w=At(y=Kt.leapSeconds,v,$n))<0&&(v=new It(v,C),y.splice(~w,0,v)),c=C)}}}else e._dataError="Error in loaded EOP data: The samples property is required.";else e._dataError="Error in loaded EOP data: The columnNames property is required."}function tr(e,t,n,r,a){r*=n,a.xPoleWander=t[r+e._xPoleWanderRadiansColumn],a.yPoleWander=t[r+e._yPoleWanderRadiansColumn],a.xPoleOffset=t[r+e._xCelestialPoleOffsetRadiansColumn],a.yPoleOffset=t[r+e._yCelestialPoleOffsetRadiansColumn],a.ut1MinusUtc=t[r+e._ut1MinusUtcSecondsColumn]}function nr(e,t,n){return t+e*(n-t)}function rr(e,t,n,r,a,i,s){var o=e._columnCount;if(i>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var u=t[a],l=t[i];if(u.equals(l)||r.equals(u))return tr(e,n,a,o,s),s;if(r.equals(l))return tr(e,n,i,o,s),s;var c=Kt.secondsDifference(r,u)/Kt.secondsDifference(l,u),d=a*o;return t=i*o,u=n[d+e._ut1MinusUtcSecondsColumn],!(.5<(i=(a=n[t+e._ut1MinusUtcSecondsColumn])-u)||i<-.5)||(o=n[d+e._taiMinusUtcSecondsColumn])!==(i=n[t+e._taiMinusUtcSecondsColumn])&&(l.equals(r)?u=a:a-=i-o),s.xPoleWander=nr(c,n[d+e._xPoleWanderRadiansColumn],n[t+e._xPoleWanderRadiansColumn]),s.yPoleWander=nr(c,n[d+e._yPoleWanderRadiansColumn],n[t+e._yPoleWanderRadiansColumn]),s.xPoleOffset=nr(c,n[d+e._xCelestialPoleOffsetRadiansColumn],n[t+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=nr(c,n[d+e._yCelestialPoleOffsetRadiansColumn],n[t+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=nr(c,u,a),s}function ar(e,n,r){this.heading=t.defaultValue(e,0),this.pitch=t.defaultValue(n,0),this.roll=t.defaultValue(r,0)}Yn._Implementations.loadWithXhr=function(e,n,r,a,s,o,u){var l=Xn.exec(e);if(null===l){if(Qn)return c=e,d=n,f=r,h=s,p=o,c="https:"===(m=require("url").parse(c)).protocol?require("https"):require("http"),y=require("zlib"),h={protocol:m.protocol,hostname:m.hostname,port:m.port,path:m.path,query:m.query,method:f,headers:h},void c.request(h).on("response",(function(e){var t;e.statusCode<200||300<=e.statusCode?p.reject(new vn(e.statusCode,e,e.headers)):(t=[],e.on("data",(function(e){t.push(e)})),e.on("end",(function(){var n=Buffer.concat(t);"gzip"===e.headers["content-encoding"]?y.gunzip(n,(function(e,t){e?p.reject(new i.RuntimeError("Error decompressing response.")):p.resolve(Gn(t,d))})):p.resolve(Gn(n,d))})))})).on("error",(function(e){p.reject(new vn)})).end();var c,d,f,h,p,m,y,w=new XMLHttpRequest;if(Nn.contains(e)&&(w.withCredentials=!0),w.open(r,e,!0),t.defined(u)&&t.defined(w.overrideMimeType)&&w.overrideMimeType(u),t.defined(s))for(var C in s)s.hasOwnProperty(C)&&w.setRequestHeader(C,s[C]);t.defined(n)&&(w.responseType=n);var v=!1;return"string"==typeof e&&(v=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),w.onload=function(){if(!(w.status<200||300<=w.status)||v&&0===w.status){var e=w.response,a=w.responseType;if("HEAD"===r||"OPTIONS"===r){var s=w.getAllResponseHeaders().trim().split(/[\r\n]+/),u={};return s.forEach((function(e){var t=e.split(": ");e=t.shift(),u[e]=t.join(": ")})),void o.resolve(u)}if(204===w.status)o.resolve();else if(!t.defined(e)||t.defined(n)&&a!==n)if("json"===n&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else(""===a||"document"===a)&&t.defined(w.responseXML)&&w.responseXML.hasChildNodes()?o.resolve(w.responseXML):""!==a&&"text"!==a||!t.defined(w.responseText)?o.reject(new i.RuntimeError("Invalid XMLHttpRequest response type.")):o.resolve(w.responseText);else o.resolve(e)}else o.reject(new vn(w.status,w.response,w.getAllResponseHeaders()))},w.onerror=function(e){o.reject(new vn)},w.send(a),w}o.resolve(function(e,n){n=t.defaultValue(n,"");var r=e[1],a=!!e[2],i=e[3];switch(n){case"":case"text":return Hn(a,i);case"arraybuffer":return Jn(a,i);case"blob":var s=Jn(a,i);return new Blob([s],{type:r});case"document":return(new DOMParser).parseFromString(Hn(a,i),r);case"json":return JSON.parse(Hn(a,i))}}(l,n))},Yn._Implementations.loadAndExecuteScript=function(e,n,r){return function(e){var n=t.when.defer(),r=document.createElement("script");r.async=!0,r.src=e;var a=document.getElementsByTagName("head")[0];return r.onload=function(){r.onload=void 0,a.removeChild(r),n.resolve()},r.onerror=function(e){n.reject(e)},a.appendChild(r),n.promise}(e).otherwise(r.reject)},(Yn._DefaultImplementations={}).createImage=Yn._Implementations.createImage,Yn._DefaultImplementations.loadWithXhr=Yn._Implementations.loadWithXhr,Yn._DefaultImplementations.loadAndExecuteScript=Yn._Implementations.loadAndExecuteScript,Yn.DEFAULT=Object.freeze(new Yn({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),Kn.NONE=Object.freeze({getPromiseToLoad:function(){return t.when.resolve()},compute:function(e,n){return t.defined(n)?(n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0):n=new Rt(0,0,0,0,0),n}}),Kn.prototype.getPromiseToLoad=function(){return t.when(this._downloadPromise)},Kn.prototype.compute=function(e,n){if(t.defined(this._samples)){if(t.defined(n)||(n=new Rt(0,0,0,0,0)),0===this._samples.length)return n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0,n;var r=this._dates,a=this._lastIndex,s=0,o=0;if(t.defined(a)){var u=r[a],l=r[a+1],c=Kt.lessThanOrEquals(u,e),d=!t.defined(l);if(u=d||Kt.greaterThanOrEquals(l,e),c&&u)return s=a,!d&&l.equals(e)&&++s,o=s+1,rr(this,r,this._samples,e,s,o,n),n}return 0<=(l=At(r,e,Kt.compare,this._dateColumn))?(l<r.length-1&&r[l+1].equals(e)&&++l,o=s=l):(s=(o=~l)-1)<0&&(s=0),this._lastIndex=s,rr(this,r,this._samples,e,s,o,n),n}if(t.defined(this._dataError))throw new i.RuntimeError(this._dataError)},ar.fromQuaternion=function(e,n){t.defined(n)||(n=new ar);var a=2*(e.w*e.y-e.z*e.x),i=1-2*(e.x*e.x+e.y*e.y),s=2*(e.w*e.x+e.y*e.z),o=1-2*(e.y*e.y+e.z*e.z);return e=2*(e.w*e.z+e.x*e.y),n.heading=-Math.atan2(e,o),n.roll=Math.atan2(s,i),n.pitch=-r.CesiumMath.asinClamped(a),n},ar.fromDegrees=function(e,n,a,i){return t.defined(i)||(i=new ar),i.heading=e*r.CesiumMath.RADIANS_PER_DEGREE,i.pitch=n*r.CesiumMath.RADIANS_PER_DEGREE,i.roll=a*r.CesiumMath.RADIANS_PER_DEGREE,i},ar.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.heading=e.heading,n.pitch=e.pitch,n.roll=e.roll,n):new ar(e.heading,e.pitch,e.roll)},ar.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.heading===n.heading&&e.pitch===n.pitch&&e.roll===n.roll},ar.equalsEpsilon=function(e,n,a,i){return e===n||t.defined(e)&&t.defined(n)&&r.CesiumMath.equalsEpsilon(e.heading,n.heading,a,i)&&r.CesiumMath.equalsEpsilon(e.pitch,n.pitch,a,i)&&r.CesiumMath.equalsEpsilon(e.roll,n.roll,a,i)},ar.prototype.clone=function(e){return ar.clone(this,e)},ar.prototype.equals=function(e){return ar.equals(this,e)},ar.prototype.equalsEpsilon=function(e,t,n){return ar.equalsEpsilon(this,e,t,n)},ar.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"};var ir,sr,or,ur=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;function lr(e){return"undefined"==typeof document?e:(t.defined(ir)||(ir=document.createElement("a")),ir.href=e,ir.href=ir.href,ir.href)}function cr(){if(t.defined(sr))return sr;var e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:"object"==typeof define&&t.defined(define.amd)&&!define.amd.toUrlUndefined&&t.defined(require.toUrl)?cn("..",hr("Core/buildModuleUrl.js")):function(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src");if(null!==(r=ur.exec(r)))return r[1]}}();return(sr=new Yn({url:lr(e)})).appendForwardSlash(),sr}function dr(e){return lr(require.toUrl("../"+e))}function fr(e){return cr().getDerivedResource({url:e}).url}function hr(e){return t.defined(or)||(or="object"==typeof define&&t.defined(define.amd)&&!define.amd.toUrlUndefined&&t.defined(require.toUrl)?dr:fr),or(e)}function pr(e,t,n){this.x=e,this.y=t,this.s=n}function mr(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=Yn.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=t.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=t.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new Kt(this._sampleZeroJulianEphemerisDate,0,Dt.TAI),this._stepSizeDays=t.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=t.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=t.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var n=this._interpolationOrder,r=this._denominators=new Array(n+1),a=this._xTable=new Array(n+1),i=Math.pow(this._stepSizeDays,n),s=0;s<=n;++s){r[s]=i,a[s]=s*this._stepSizeDays;for(var o=0;o<=n;++o)o!==s&&(r[s]*=s-o);r[s]=1/r[s]}this._work=new Array(n+1),this._coef=new Array(n+1)}hr._cesiumScriptRegex=ur,hr._buildModuleUrlFromBaseUrl=fr,hr._clearBaseResource=function(){sr=void 0},hr.setBaseUrl=function(e){sr=Yn.DEFAULT.getDerivedResource({url:e})},hr.getCesiumBaseUrl=cr;var yr=new Kt(0,0,Dt.TAI);function wr(e,t,n){var r=yr;return r.dayNumber=t,r.secondsOfDay=n,Kt.daysDifference(r,e._sampleZeroDateTT)}function Cr(e,n){if(e._chunkDownloadsInProgress[n])return e._chunkDownloadsInProgress[n];var r=t.when.defer();e._chunkDownloadsInProgress[n]=r;var a=e._xysFileUrlTemplate;return a=t.defined(a)?a.getDerivedResource({templateValues:{0:n}}):new Yn({url:hr("Assets/IAU2006_XYS/IAU2006_XYS_"+n+".json")}),t.when(a.fetchJson(),(function(t){e._chunkDownloadsInProgress[n]=!1;for(var a=e._samples,i=t.samples,s=n*e._samplesPerXysFile*3,o=0,u=i.length;o<u;++o)a[s+o]=i[o];r.resolve()})),r.promise}mr.prototype.preload=function(e,n,r,a){n=wr(this,e,n),a=wr(this,r,a),(n=n/this._stepSizeDays-this._interpolationOrder/2|0)<0&&(n=0),(a=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder)>=this._totalSamples&&(a=this._totalSamples-1),n=n/this._samplesPerXysFile|0;for(var i=a/this._samplesPerXysFile|0,s=[],o=n;o<=i;++o)s.push(Cr(this,o));return t.when.all(s)},mr.prototype.computeXysRadians=function(e,n,r){var a=wr(this,e,n);if(!(a<0||(e=a/this._stepSizeDays|0)>=this._totalSamples)){var i=this._interpolationOrder,s=e-(i/2|0);s<0&&(s=0),(n=s+i)>=this._totalSamples&&(s=(n=this._totalSamples-1)-i)<0&&(s=0),e=!1;var o=this._samples;if(t.defined(o[3*s])||(Cr(this,s/this._samplesPerXysFile|0),e=!0),t.defined(o[3*n])||(Cr(this,n/this._samplesPerXysFile|0),e=!0),!e){t.defined(r)?(r.x=0,r.y=0,r.s=0):r=new pr(0,0,0);for(var u,l=a-s*this._stepSizeDays,c=this._work,d=this._denominators,f=this._coef,h=this._xTable,p=0;p<=i;++p)c[p]=l-h[p];for(p=0;p<=i;++p){for(f[p]=1,u=0;u<=i;++u)u!==p&&(f[p]*=c[u]);f[p]*=d[p];var m=3*(s+p);r.x+=f[p]*o[m++],r.y+=f[p]*o[m++],r.s+=f[p]*o[m]}return r}}};var vr={},gr={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},xr={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Er={},Or={east:new a.Cartesian3,north:new a.Cartesian3,up:new a.Cartesian3,west:new a.Cartesian3,south:new a.Cartesian3,down:new a.Cartesian3},_r=new a.Cartesian3,Sr=new a.Cartesian3,br=new a.Cartesian3;vr.localFrameToFixedFrameGenerator=function(e,i){if(!gr.hasOwnProperty(e)||!gr[e].hasOwnProperty(i))throw new n.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");var s,o=gr[e][i],u=e+i;return t.defined(Er[u])?s=Er[u]:(s=function(n,s,u){var l;return t.defined(u)||(u=new b),a.Cartesian3.equalsEpsilon(n,a.Cartesian3.ZERO,r.CesiumMath.EPSILON14)?(a.Cartesian3.unpack(xr[e],0,_r),a.Cartesian3.unpack(xr[i],0,Sr),a.Cartesian3.unpack(xr[o],0,br)):r.CesiumMath.equalsEpsilon(n.x,0,r.CesiumMath.EPSILON14)&&r.CesiumMath.equalsEpsilon(n.y,0,r.CesiumMath.EPSILON14)?(l=r.CesiumMath.sign(n.z),a.Cartesian3.unpack(xr[e],0,_r),"east"!==e&&"west"!==e&&a.Cartesian3.multiplyByScalar(_r,l,_r),a.Cartesian3.unpack(xr[i],0,Sr),"east"!==i&&"west"!==i&&a.Cartesian3.multiplyByScalar(Sr,l,Sr),a.Cartesian3.unpack(xr[o],0,br),"east"!==o&&"west"!==o&&a.Cartesian3.multiplyByScalar(br,l,br)):((s=t.defaultValue(s,a.Ellipsoid.WGS84)).geodeticSurfaceNormal(n,Or.up),l=Or.up,(s=Or.east).x=-n.y,s.y=n.x,s.z=0,a.Cartesian3.normalize(s,Or.east),a.Cartesian3.cross(l,s,Or.north),a.Cartesian3.multiplyByScalar(Or.up,-1,Or.down),a.Cartesian3.multiplyByScalar(Or.east,-1,Or.west),a.Cartesian3.multiplyByScalar(Or.north,-1,Or.south),_r=Or[e],Sr=Or[i],br=Or[o]),u[0]=_r.x,u[1]=_r.y,u[2]=_r.z,u[3]=0,u[4]=Sr.x,u[5]=Sr.y,u[6]=Sr.z,u[7]=0,u[8]=br.x,u[9]=br.y,u[10]=br.z,u[11]=0,u[12]=n.x,u[13]=n.y,u[14]=n.z,u[15]=1,u},Er[u]=s),s},vr.eastNorthUpToFixedFrame=vr.localFrameToFixedFrameGenerator("east","north"),vr.northEastDownToFixedFrame=vr.localFrameToFixedFrameGenerator("north","east"),vr.northUpEastToFixedFrame=vr.localFrameToFixedFrameGenerator("north","up"),vr.northWestUpToFixedFrame=vr.localFrameToFixedFrameGenerator("north","west");var Mr=new $e,Ar=new a.Cartesian3(1,1,1),Rr=new b;vr.headingPitchRollToFixedFrame=function(e,n,r,i,s){return i=t.defaultValue(i,vr.eastNorthUpToFixedFrame),n=$e.fromHeadingPitchRoll(n,Mr),n=b.fromTranslationQuaternionRotationScale(a.Cartesian3.ZERO,n,Ar,Rr),s=i(e,r,s),b.multiply(s,n,s)};var Tr=new b,qr=new l;vr.headingPitchRollQuaternion=function(e,t,n,r,a){return r=vr.headingPitchRollToFixedFrame(e,t,n,r,Tr),r=b.getMatrix3(r,qr),$e.fromRotationMatrix(r,a)};var zr=new a.Cartesian3(1,1,1),Ir=new a.Cartesian3,Pr=new b,Dr=new b,Ur=new l,Nr=new $e;vr.fixedFrameToHeadingPitchRoll=function(e,n,r,i){n=t.defaultValue(n,a.Ellipsoid.WGS84),r=t.defaultValue(r,vr.eastNorthUpToFixedFrame),t.defined(i)||(i=new ar);var s=b.getTranslation(e,Ir);return a.Cartesian3.equals(s,a.Cartesian3.ZERO)?(i.heading=0,i.pitch=0,i.roll=0,i):(n=b.inverseTransformation(r(s,n,Pr),Pr),e=b.setScale(e,zr,Dr),e=b.setTranslation(e,a.Cartesian3.ZERO,e),n=b.multiply(n,e,n),n=$e.fromRotationMatrix(b.getMatrix3(n,Ur),Nr),n=$e.normalize(n,n),ar.fromQuaternion(n,i))};var Vr=r.CesiumMath.TWO_PI/86400,Fr=new Kt;vr.computeTemeToPseudoFixedMatrix=function(e,n){e=(a=(Fr=Kt.addSeconds(e,-Kt.computeTaiMinusUtc(e),Fr)).dayNumber)-2451545;var a=(24110.54841+(e=43200<=(i=Fr.secondsOfDay)?(.5+e)/Pt.DAYS_PER_JULIAN_CENTURY:(e-.5)/Pt.DAYS_PER_JULIAN_CENTURY)*(8640184.812866+e*(.093104+-62e-7*e)))*Vr%r.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(a-2451545.5))*((i+.5*Pt.SECONDS_PER_DAY)%Pt.SECONDS_PER_DAY),i=Math.cos(a);return a=Math.sin(a),t.defined(n)?(n[0]=i,n[1]=-a,n[2]=0,n[3]=a,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new l(i,a,0,-a,i,0,0,0,1)},vr.iau2006XysData=new mr,vr.earthOrientationParameters=Kn.NONE;var Lr=32.184;vr.preloadIcrfFixed=function(e){var n=e.start.dayNumber,r=e.start.secondsOfDay+Lr,a=e.stop.dayNumber;return e=e.stop.secondsOfDay+Lr,a=vr.iau2006XysData.preload(n,r,a,e),e=vr.earthOrientationParameters.getPromiseToLoad(),t.when.all([a,e])},vr.computeIcrfToFixedMatrix=function(e,n){if(t.defined(n)||(n=new l),e=vr.computeFixedToIcrfMatrix(e,n),t.defined(e))return l.transpose(e,n)};var Br=new pr(0,0,0),Wr=new Rt(0,0,0,0,0),jr=new l,kr=new l;vr.computeFixedToIcrfMatrix=function(e,n){t.defined(n)||(n=new l);var a=vr.earthOrientationParameters.compute(e,Wr);if(t.defined(a)){var i=e.dayNumber,s=e.secondsOfDay+Lr,o=vr.iau2006XysData.computeXysRadians(i,s,Br);if(t.defined(o)){var u=o.x+a.xPoleOffset,c=o.y+a.yPoleOffset,d=1/(1+Math.sqrt(1-u*u-c*c)),f=jr;return f[0]=1-d*u*u,f[3]=-d*u*c,f[6]=u,f[1]=-d*u*c,f[4]=1-d*c*c,f[7]=c,f[2]=-u,f[5]=-c,f[8]=1-d*(u*u+c*c),u=l.fromRotationZ(-o.s,kr),c=l.multiply(f,u,jr),o=e.dayNumber-2451545,u=(u=.779057273264+(f=(e.secondsOfDay-Kt.computeTaiMinusUtc(e)+a.ut1MinusUtc)/Pt.SECONDS_PER_DAY)+.00273781191135448*(o+f))%1*r.CesiumMath.TWO_PI,e=l.fromRotationZ(u,kr),o=l.multiply(c,e,jr),f=Math.cos(a.xPoleWander),u=Math.cos(a.yPoleWander),c=Math.sin(a.xPoleWander),e=Math.sin(a.yPoleWander),a=i-2451545+s/Pt.SECONDS_PER_DAY,i=-47e-6*(a/=36525)*r.CesiumMath.RADIANS_PER_DEGREE/3600,s=Math.cos(i),a=Math.sin(i),(i=kr)[0]=f*s,i[1]=f*a,i[2]=c,i[3]=-u*a+e*c*s,i[4]=u*s+e*c*a,i[5]=-e*f,i[6]=-e*a-u*c*s,i[7]=e*s-u*c*a,i[8]=u*f,l.multiply(o,i,n)}}};var Yr=new C;vr.pointToWindowCoordinates=function(e,t,n,r){return(r=vr.pointToGLWindowCoordinates(e,t,n,r)).y=2*t[5]-r.y,r},vr.pointToGLWindowCoordinates=function(e,n,r,i){t.defined(i)||(i=new a.Cartesian2);var s=Yr;return b.multiplyByVector(e,C.fromElements(r.x,r.y,r.z,1,s),s),C.multiplyByScalar(s,1/s.w,s),b.multiplyByVector(n,s,s),a.Cartesian2.fromCartesian4(s,i)};var Zr=new a.Cartesian3,Xr=new a.Cartesian3,Hr=new a.Cartesian3;vr.rotationMatrixFromPositionVelocity=function(e,n,i,s){return i=t.defaultValue(i,a.Ellipsoid.WGS84).geodeticSurfaceNormal(e,Zr),e=a.Cartesian3.cross(n,i,Xr),a.Cartesian3.equalsEpsilon(e,a.Cartesian3.ZERO,r.CesiumMath.EPSILON6)&&(e=a.Cartesian3.clone(a.Cartesian3.UNIT_X,e)),i=a.Cartesian3.cross(e,n,Hr),a.Cartesian3.normalize(i,i),a.Cartesian3.cross(n,i,e),a.Cartesian3.negate(e,e),a.Cartesian3.normalize(e,e),t.defined(s)||(s=new l),s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=e.x,s[4]=e.y,s[5]=e.z,s[6]=i.x,s[7]=i.y,s[8]=i.z,s};var Jr=new b(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Gr=new a.Cartographic,Qr=new a.Cartesian3,Kr=new a.Cartesian3,$r=new l,ea=new b,ta=new b;vr.basisTo2D=function(e,t,n){var r=b.getTranslation(t,Kr),i=e.ellipsoid,s=i.cartesianToCartographic(r,Gr);return s=e.project(s,Qr),a.Cartesian3.fromElements(s.z,s.x,s.y,s),i=vr.eastNorthUpToFixedFrame(r,i,ea),i=b.inverseTransformation(i,ta),t=b.getMatrix3(t,$r),t=b.multiplyByMatrix3(i,t,n),b.multiply(Jr,t,n),b.setTranslation(n,s,n),n},vr.wgs84To2DModelMatrix=function(e,t,n){var r=e.ellipsoid,i=vr.eastNorthUpToFixedFrame(t,r,ea);return i=b.inverseTransformation(i,ta),t=r.cartesianToCartographic(t,Gr),t=e.project(t,Qr),a.Cartesian3.fromElements(t.z,t.x,t.y,t),t=b.fromTranslation(t,ea),b.multiply(Jr,i,n),b.multiply(t,n,n),n},e.BoundingSphere=F,e.Cartesian4=C,e.FeatureDetection=Ke,e.GeographicProjection=s,e.Intersect=o,e.Interval=u,e.Matrix3=l,e.Matrix4=b,e.Quaternion=$e,e.Resource=Yn,e.Transforms=vr,e.buildModuleUrl=hr}));