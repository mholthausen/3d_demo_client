define(["exports","./when-54c2dc71","./Check-6c0211bc","./Math-fc8cecf5","./Cartesian2-bddc1162","./Transforms-6f81ad4c","./GeometryAttribute-700c1da0"],(function(t,n,a,r,e,o,s){"use strict";var i=Math.cos,c=Math.sin,g=Math.sqrt,h={computePosition:function(t,a,r,e,o,s,h){var u=a.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=i(d),w=c(d),M=u.z*w,X=C.longitude+e*t.granYSin+o*t.granXCos;a=S*i(X),C=S*c(X),S=u.x*a,u=u.y*C,w=g(S*a+u*C+M*w),s.x=S/w,s.y=u/w,s.z=M/w,r&&(r=t.stNwCorner,n.defined(r)?(d=r.latitude-t.stGranYCos*e+o*t.stGranXSin,X=r.longitude+e*t.stGranYSin+o*t.stGranXCos,h.x=(X-t.stWest)*t.lonScalar,h.y=(d-t.stSouth)*t.latScalar):(h.x=(X-l.west)*t.lonScalar,h.y=(d-l.south)*t.latScalar))}},u=new s.Matrix2,C=new e.Cartesian3,l=new e.Cartographic,d=new e.Cartesian3,S=new o.GeographicProjection;function w(t,n,a,r,o,i,c){var g=Math.cos(n),h=r*g,l=a*g,w=Math.sin(n),M=r*w,X=a*w;return C=S.project(t,C),C=e.Cartesian3.subtract(C,d,C),g=s.Matrix2.fromRotation(n,u),C=s.Matrix2.multiplyByVector(g,C,C),C=e.Cartesian3.add(C,d,C),--i,--c,a=(r=(t=S.unproject(C,t)).latitude)+i*X,w=r-h*c,n=r-h*c+i*X,g=Math.max(r,a,w,n),r=Math.min(r,a,w,n),w=(a=t.longitude)+i*l,n=a+c*M,i=a+c*M+i*l,{north:g,south:r,east:Math.max(a,w,n,i),west:Math.min(a,w,n,i),granYCos:h,granYSin:M,granXCos:l,granXSin:X,nwCorner:t}}h.computeOptions=function(t,n,a,o,s,i,c){var g=t.east,h=t.west,u=t.north,C=t.south,M=!1,X=!1;u===r.CesiumMath.PI_OVER_TWO&&(M=!0),C===-r.CesiumMath.PI_OVER_TWO&&(X=!0);var Y,m,p=u-C,f=(G=g<h?r.CesiumMath.TWO_PI-h+g:g-h)/((Y=Math.ceil(G/n)+1)-1),G=p/((m=Math.ceil(p/n)+1)-1);return p=e.Rectangle.northwest(t,i),n=e.Rectangle.center(t,l),0===a&&0===o||(n.longitude<p.longitude&&(n.longitude+=r.CesiumMath.TWO_PI),d=S.project(n,d)),X={granYCos:i=G,granYSin:0,granXCos:n=f,granXSin:0,nwCorner:p,boundingRectangle:s=e.Rectangle.clone(t,s),width:Y,height:m,northCap:M,southCap:X},0!==a&&(u=(p=w(p,a,f,G,0,Y,m)).north,C=p.south,g=p.east,h=p.west,X.granYCos=p.granYCos,X.granYSin=p.granYSin,X.granXCos=p.granXCos,X.granXSin=p.granXSin,s.north=u,s.south=C,s.east=g,s.west=h),0!==o&&(a-=o,m=w(c=e.Rectangle.northwest(s,c),a,f,G,0,Y,m),X.stGranYCos=m.granYCos,X.stGranXCos=m.granXCos,X.stGranYSin=m.granYSin,X.stGranXSin=m.granXSin,X.stNwCorner=c,X.stWest=m.west,X.stSouth=m.south),X},t.RectangleGeometryLibrary=h}));